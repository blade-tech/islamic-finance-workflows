# AI native Governance, Risk & Compliance platform for Islamic Finance

**Support Shariah Compliance â€¢ Manage Risk â€¢ Enable Compliant Digital Assets**

The only platform that assists with Shariah compliance, manages operational risk, and enables compliant digital asset issuanceâ€”in one system.

[![Next.js](https://img.shields.io/badge/Next.js-14.2.18-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18.3.1-blue)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)
[![Hedera](https://img.shields.io/badge/Hedera-Guardian-purple)](https://www.hedera.com/guardian)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104-green)](https://fastapi.tiangolo.com/)

---

## ğŸ“– Overview

**AI native Governance, Risk & Compliance platform** built on **ISO 37301** (Compliance Management), **ISO 31000** (Risk Management), **COSO** (Internal Controls), **AAOIFI**, and **IFSB** standards. Integrated with **Hedera Guardian** for blockchain-verified compliance certificates and compliant digital asset issuance.

### What Makes This Different from Traditional GRC Platforms

**vs. Vanta/Delve** (Continuous Compliance Monitoring):
- âœ… **Islamic Finance domain expertise** - Built-in Shariah governance, SNCR tracking, purification workflows
- âœ… **Digital asset issuance** - Blockchain-verified Verifiable Credentials and compliant tokenization

**vs. ServiceNow GRC** (Enterprise GRC Suite):
- âœ… **AI-powered workflow extraction** - Upload Shariah policies, auto-generate compliance processes
- âœ… **Agile Islamic finance focus** - Not generic, heavyweight enterprise software

**vs. Hedera Guardian** (Policy Workflow to Digital Assets):
- âœ… **GRC fundamentals** - Risk management, control testing, continuous compliance monitoring
- âœ… **Islamic finance specifics** - AAOIFI/IFSB standards, Shariah Board workflows, SNCR management

### Core Capabilities

- **Islamic GRC Fundamentals**: Shariah Board governance, SNCR tracking, PER/IRR reserves, purification workflows, contract-sequence gates
- **AI-Assisted Workflows**: Claude AI assists with Shariah reviews, evidence collection, and control testingâ€”reducing manual effort significantly
- **Blockchain-Verified Proofs**: Hedera Guardian integration for immutable Verifiable Credentials
- **Compliant Digital Assets**: Issue Sukuk, tokens, and digital assets with MLETR and QFC DAR compliance built-in
- **Standards-Based**: ISO 37301 (Compliance) + ISO 31000 (Risk) + COSO (Controls) + AAOIFI/IFSB (Islamic Finance)

### Value Proposition by Persona

**For Shariah Compliance Officers:**
> Assist Shariah officers with reviews, SNCR tracking, and audit reportingâ€”reducing manual effort significantly.

**For Risk Officers:**
> Monitor Shariah Breach Risk (SNCR), Profit Smoothing Risk (DCR), and fiduciary risks in real-time. One dashboard for all Islamic risk categories.

**For Digital Asset Teams:**
> Launch compliant Sukuk, tokens, and digital assets in weeksâ€”not quarters. Compliance is built-in, not bolted-on.

**For CFOs / Executives:**
> One view of Shariah compliance health, regulatory risk exposure, and digital asset performance. Audit-ready 24/7.

### 5-Stage Process: Policy to Tokenization

1. **Policy Intent** - Define Shariah requirements (AAOIFI/IFSB jurisdiction, accounting framework, regulatory requirements)
2. **Digitization** - AI extracts processes from documents (Guardian methodology engine creates workflows from policy documents)
3. **Process Execution** - GRC fundamentals + Islamic overlays (Shariah Board oversight, SNCR tracking, contract-sequence gates, purification controls)
4. **Verifiable Proofs** - Blockchain-verified compliance certificates (Generate VCs for Shariah compliance, issue VP, mint NFT certificate on Hedera)
5. **Tokenization** *(Optional)* - Compliant digital asset issuance (Create tradeable tokens with MLETR and QFC Digital Asset Regulations compliance built-in)

---

## âœ¨ Key Features

### Islamic GRC Unique Layers (What Conventional GRC Platforms Don't Have)

**1. Shariah Governance Overlay** (AAOIFI GS-1/5/8, IFSB-10)
- **Shariah Supervisory Board (SSB)** with independence requirements and conflict-of-interest controls
- **Four Shariah Functions**: Compliance (day-to-day), Review (ex-post), Internal Audit, External Audit
- Board-level workflows for fatwa (Shariah rulings) and product approvals

**2. Islamic Risk Categories** (IFSB-1, IFSB-10)
- **Shariah Breach Risk (SNCR)** - Track Shariah non-compliance incidents, calculate non-compliant income, assist with purification (charity donation)
- **Profit Smoothing Risk (DCR)** - Manage Profit Equalization Reserve (PER) and Investment Risk Reserve (IRR) for Investment Account Holders
- **Profit Rate Risk (RoR)** - Monitor profit distribution fairness
- **Fiduciary Risk** - Investor trust and fiduciary duty controls

**3. Product-Level Contract Gates** (AAOIFI SS-9, QFCRA IBANK)
- **Ijarah (Islamic Lease)**: Verify delivery before rent collection, Takaful (insurance) coverage, lessor maintenance obligations
- **IMB (Lease-to-Own)**: Separate sale/gift contract for title transfer
- **Murabaha (Cost-Plus)**: Cost disclosure requirements
- Late-fee penalty treatment: Donate to charity (not booked as income)

**4. Purification & Charity Controls**
- Track "tainted income" from Shariah breaches
- Assist with purification calculations
- Shariah Board approval workflows for charity disbursement
- Reconciliation: ensure purification amounts match donations

**5. Template Discipline** (IIFM/ISDA/BAFT Standards)
- Use approved contract templates (IIFM Ijarah, ISDA-IIFM Tahawwut)
- Control deviations tightly with Shariah Board approval
- Link to underlying Shariah rulings (fatwa)

### 5-Pillar Compliance Framework
The platform tracks compliance across five comprehensive governance areas:

1. **ğŸ•Œ Shariah Governance & Compliance** - Shariah Board oversight, SNCR tracking, purification workflows
2. **âš–ï¸ Regulatory & Legal Compliance** - AAOIFI, IFSB, jurisdiction-specific regulations (QFC, DIFC, CMA)
3. **ğŸ›¡ï¸ Risk Management** - SNCR, DCR, RoR, fiduciary risk, PER/IRR reserve management
4. **ğŸ“Š Financial & Product Reporting** - AAOIFI FAS, IFRS, product-level contract gates
5. **âœ“ Audit & Assurance** - Shariah audit, external Shariah audit, compliance verification

### Phase 1: Core Workflow (Completed)
- âœ… **10-step modular workflow** with component-based configuration
- âœ… **QIIB Oryx Sustainability Sukuk** pre-configured demo
- âœ… **Guardian policy generation** with BPMN visualization
- âœ… **Mock blockchain deployment** with realistic Hedera transaction IDs

### Phase 2: Methodology Digitization (Completed)
- âœ… **7-step AI-powered digitization pipeline** - Upload documents â†’ Parse â†’ Analyze â†’ Generate Schemas â†’ Generate Policies â†’ Calculate â†’ Validate
- âœ… **LlamaParse integration** for advanced PDF parsing
- âœ… **Claude AI analysis** extracting Shariah requirements
- âœ… **Guardian schema generation** from natural language

### Phase 3: Digital Assets & Lifecycle (Completed)
- âœ… **Digital Assets Management** - Cross-deal view of Guardian certificates and ATS tokens
- âœ… **Deal Lifecycle Tracking** - Monitor deals from creation through completion
- âœ… **6 Mock Deals Auto-seeded** - Realistic Islamic finance transactions on startup:
  - QIIB Oryx Green Sukuk (Wakala + Certificate + Token)
  - Dubai Islamic Bank Murabaha Facility (Murabaha + Certificate + Token)
  - Abu Dhabi Sovereign Wakala Infrastructure (Wakala + Certificate + Token)
  - Saudi Aramco Green Sukuk Istisna (Istisna + Certificate only)
  - Malaysia Sustainable Sukuk Musharaka (Musharaka + Certificate + Token)
  - Kuwait Finance House Hybrid Sukuk (Pending)
- âœ… **Comprehensive Navigation** - Sidebar navigation across Dashboard, Workflow, Deals, Digital Assets, Collaboration
- âœ… **Mock Guardian API** - 8 endpoints simulating Guardian integration for rapid prototyping

### Phase 4: Knowledge Base & UI (Completed)
- âœ… **23 Authoritative Sources** across 4 categories:
  - 7 Shariah Structures (AAOIFI FAS standards)
  - 5 Jurisdictions (DFSA, QFC, SC Malaysia, CMA, CSSF)
  - 3 Accounting Standards (AAOIFI, IFRS, IFRS+Islamic)
  - 8 Impact Metrics (UN SDGs, Green Sukuk, Value-Based Intermediation, etc.)
- âœ… **Step 1 UI Redesign** - Impressive backend architecture showcase (13 services)
- âœ… **ZeroH Branding** - Complete platform rebranding

---

## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 20+ (frontend)
- **Python** 3.11+ (backend)
- **Neo4j Aura** account (optional, for MCP Graphiti integration)
- **Anthropic API Key** (optional, for Claude AI)

### 1. Clone the Repository
```bash
git clone https://github.com/Blade-Labs/islamic-finance-workflows.git
cd islamic-finance-workflows
```

### 2. Environment Setup

#### Backend Environment Variables

Create `backend/.env` file:

```env
# Neo4j Connection (optional - platform works without it)
NEO4J_URI=neo4j+ssc://xxxxx.databases.neo4j.io
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password

# AI API Keys (optional - platform works in mock mode without them)
ANTHROPIC_API_KEY=sk-ant-xxxxx
OPENAI_API_KEY=sk-xxxxx  # Optional, for embeddings
LLAMAPARSE_API_KEY=llx-xxxxx  # Optional, for advanced PDF parsing

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://localhost:3040,http://localhost:3000

# Claude Configuration
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_MAX_TOKENS=16384
CLAUDE_TEMPERATURE=0.7

# Directories
UPLOAD_DIR=./uploads
OUTPUT_DIR=./outputs

# Optional
DEBUG=true
LOG_LEVEL=INFO
```

#### Frontend Environment Variables

Create `.env.local` file in root directory:

```env
# Backend API URL
NEXT_PUBLIC_API_URL=http://localhost:8000

# Port for Next.js dev server
PORT=3040
```

**ğŸ’¡ Note**: Without Neo4j and Anthropic API keys, the platform runs in **mock mode** with simulated data - perfect for exploring the UI without external dependencies!

### 3. Installation

#### Option A: One-Command Demo Launch (Recommended)

**Windows**:
```bash
start-demo.bat
```

**Mac/Linux**:
```bash
chmod +x start-demo.sh
./start-demo.sh
```

This automatically:
- âœ… Installs all dependencies (first run only)
- âœ… Starts backend API on port 8000
- âœ… Auto-seeds 6 realistic Islamic finance deals
- âœ… Starts frontend dev server on port 3040
- âœ… Opens browser to http://localhost:3040

#### Option B: Manual Setup

```bash
# Install frontend dependencies
npm install

# Install backend dependencies
cd backend
python -m venv venv

# Activate virtual environment
# Windows: venv\Scripts\activate
# Mac/Linux: source venv/bin/activate

pip install -r requirements.txt
cd ..
```

### 4. Start Servers Manually (if not using demo scripts)

**Terminal 1 - Backend**:
```bash
cd backend
# Activate venv if not already active
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**Terminal 2 - Frontend**:
```bash
npm run dev
```

The application will be available at **http://localhost:3040**

---

## ğŸ® Using the Platform

### Quick Demo Path (15 minutes)

1. **Visit** http://localhost:3040
2. **Click "Load QIIB Oryx Demo"** - Pre-configures Wakala + QFC + AAOIFI + Sustainability
3. **Navigate through 10 steps** - See component selection, configuration, policy generation
4. **View Guardian Policy** - Generated BPMN workflow and policy structure
5. **Mock Deployment** - Simulated blockchain with realistic transaction IDs
6. **Step 11: Monitor & Collaborate** - Navigate to Dashboard and Digital Assets
7. **Explore Digital Assets** - See 6 auto-seeded deals with Guardian certificates and ATS tokens
8. **View Deal Details** - Individual deal compliance tracking and monitoring

### Qatar IjÄrah Demo (Recommended Starting Point)

**URL**: http://localhost:3040/qatar-ijarah

Explore **9 interactive scenes** demonstrating Qatar IjÄrah off-plan construction financing with **3 AI-powered agentic pods**:

**Key Scenes:**
- **Scene 5 (Rent Gating)** - â­ SHOWSTOPPER with 2 AI pods:
  - Upload 4 evidence documents â†’ Pod #1 processes with OCR
  - Click "Run AI Validation" â†’ Pod #3 validates preconditions
  - 91% time savings (5.5 min â†’ 30 sec)

- **Scene 8 (GRC Dashboard)** - 1 AI pod:
  - Click "Run Control Tests" â†’ Pod #2 tests all 15 controls
  - See pass/fail findings with test logic
  - 99.8% time savings (40 min â†’ 4 sec)

- **Scene 9 (AI Control Center)** - Flagship demo:
  - Watch all 3 pods work together in automated sequence
  - 95% time savings with 100% human oversight (HITL)
  - Before/After metrics showing dramatic efficiency gains

**What You'll See:**
- HITL pattern (Human-In-The-Loop) - pods propose, humans approve
- Real-time pod execution with thinking animation
- Before/After metrics comparing manual vs AI-assisted workflows
- Detailed control testing with pass/fail status
- Evidence validation with OCR and hash verification

### Exploring Digital Assets

**URL**: http://localhost:3040/digital-assets

View **cross-deal digital assets** including:
- **Summary Metrics**: Total deals, Guardian certificates, tokenized assets, total supply, token holders
- **Filtering Tabs**: All Assets | Certificates Only | Tokens Only | Complete Set
- **Deal Cards**: Each showing:
  - Guardian certificate ID and status
  - ATS token symbol, supply, and holder count
  - Navigation to individual deal digital assets

### Exploring Deals

**URL**: http://localhost:3040/ai-native/deals

Browse all Islamic finance deals with:
- Deal name, product type, status tracking
- **5-pillar compliance visualization** with progress bars for each governance area
- Overall compliance percentage and color-coded status
- Blocker alerts and quick navigation to deal details
- Filter by status (all, in progress, complete, blocked)

### Methodology Upload (Alternative to Component Selection)

In **Step 2**, instead of selecting from 7 pre-defined Shariah structures, you can:

1. **Upload Policy Intent Document** (PDF/DOCX)
2. **Watch 7-Step Digitization Pipeline**:
   - Upload â†’ Parse (LlamaParse) â†’ Analyze (Claude)
   - Generate Schemas â†’ Generate Policies â†’ Generate Calculations
   - Validate (Guardian)
3. **Extract Shariah Structure** automatically from your document

---

## ğŸ—ï¸ Project Structure

```
islamic-finance-workflows/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router pages
â”‚   â”‚   â”œâ”€â”€ dashboard/                # âœ… Platform overview dashboard
â”‚   â”‚   â”œâ”€â”€ deals/                    # âœ… Deal listing and detail pages
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ digital-assets/   # âœ… Individual deal digital assets
â”‚   â”‚   â”œâ”€â”€ digital-assets/           # âœ… Cross-deal digital assets
â”‚   â”‚   â”œâ”€â”€ collaboration/            # âœ… Collaboration features
â”‚   â”‚   â”œâ”€â”€ contracts/                # Contracts management (coming soon)
â”‚   â”‚   â”œâ”€â”€ welcome/                  # Welcome screen
â”‚   â”‚   â””â”€â”€ layout.tsx                # âœ… Global layout with navigation
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                       # shadcn/ui reusable components
â”‚   â”‚   â”œâ”€â”€ workflow/                 # 11-step workflow components
â”‚   â”‚   â”œâ”€â”€ guardian/                 # âœ… TrustChain visualization (D3.js)
â”‚   â”‚   â””â”€â”€ layout/                   # âœ… Navigation, Breadcrumbs
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ store.ts                  # Zustand state management
â”‚   â”‚   â”œâ”€â”€ backend-client.ts         # âœ… Singleton API client
â”‚   â”‚   â”œâ”€â”€ mockData/                 # âœ… Guardian mock data generators
â”‚   â”‚   â””â”€â”€ utils.ts                  # Utility functions
â”‚   â””â”€â”€ data/                         # Component configurations (Shariah, Jurisdictions, etc.)
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ main.py                   # âœ… FastAPI app (auto-seeds mock data)
â”‚       â”œâ”€â”€ models.py                 # âœ… Pydantic models with digital asset fields
â”‚       â”œâ”€â”€ api/                      # API routers
â”‚       â”‚   â”œâ”€â”€ deals.py              # âœ… Deal CRUD operations
â”‚       â”‚   â”œâ”€â”€ mock_guardian.py      # âœ… 8 Guardian mock endpoints
â”‚       â”‚   â”œâ”€â”€ workflows.py          # Workflow execution
â”‚       â”‚   â”œâ”€â”€ sessions.py           # Session management (SSE)
â”‚       â”‚   â”œâ”€â”€ documents.py          # Document upload/processing
â”‚       â”‚   â””â”€â”€ graphiti.py           # Knowledge graph search
â”‚       â””â”€â”€ services/
â”‚           â”œâ”€â”€ deal_storage.py       # âœ… In-memory deal persistence
â”‚           â”œâ”€â”€ guardian_policy.py    # Policy generation
â”‚           â”œâ”€â”€ graphiti_mcp_service.py # MCP integration
â”‚           â””â”€â”€ claude_service.py     # Claude AI orchestration
â”œâ”€â”€ public/                           # Static assets
â”œâ”€â”€ start-demo.bat                    # Windows one-command launcher
â”œâ”€â”€ start-demo.sh                     # Mac/Linux one-command launcher
â”œâ”€â”€ PROGRESS_TRACKER_NOV5.md          # âœ… Today's session log
â”œâ”€â”€ KNOWLEDGE_BASE_AUTHORITATIVE_SOURCES.md # âœ… 23 authoritative sources
â”œâ”€â”€ STEP1_UI_REDESIGN_PROPOSAL.md     # âœ… Step 1 architecture showcase
â”œâ”€â”€ UX_IMPLEMENTATION_PLAN.md         # âœ… 15-day UX roadmap
â””â”€â”€ PROJECT_OVERVIEW.md               # Comprehensive documentation
```

---

## ğŸ› ï¸ Development

### Available Scripts

#### Frontend
- `npm run dev` - Start development server on port 3040
- `npm run build` - Build production bundle
- `npm run start` - Start production server
- `npm run lint` - Run ESLint

#### Backend
- `uvicorn app.main:app --reload` - Start FastAPI with auto-reload (from backend/ directory)
- `pytest` - Run tests (when implemented)

### Tech Stack

**Frontend**:
- Next.js 14 (App Router)
- React 18 + TypeScript 5
- Tailwind CSS + shadcn/ui
- Zustand (state management)
- D3.js (TrustChain visualization)
- Recharts (analytics charts)
- bpmn-js (BPMN workflow visualization)

**Backend**:
- FastAPI (Python 3.11+)
- Pydantic v2 (data validation)
- Uvicorn (ASGI server)
- Neo4j (Graphiti knowledge graph)
- Claude AI (Anthropic)
- LlamaParse (PDF processing)

**Blockchain Integration (In Development)**:
- Hedera Guardian (compliance policies)
- Hedera Consensus Service (HCS) - audit trail
- Hedera Token Service (HTS) - NFT certificates
- Alternative Token System (ATS) - asset tokenization
- IPFS (decentralized storage)

---

## ğŸ“Š Mock Data Showcase

### 6 Auto-Seeded Islamic Finance Deals

The platform automatically seeds 6 realistic deals on startup to demonstrate full capabilities:

1. **QIIB Oryx Green Sukuk** âœ… Complete
   - Structure: Wakala (Agency)
   - Jurisdiction: Qatar QFC
   - Certificate: GC-2024-001-QIIB-ORYX
   - Token: QIIB-ORYX (50M supply, 127 holders)

2. **Dubai Islamic Bank Murabaha** âœ… Complete
   - Structure: Murabaha (Cost-plus financing)
   - Jurisdiction: UAE DIFC
   - Certificate: GC-2024-002-DIB-MURABAHA
   - Token: DIB-MRB (25M supply, 89 holders)

3. **Abu Dhabi Sovereign Wakala** âœ… Complete
   - Structure: Wakala (Agency)
   - Jurisdiction: UAE ADGM
   - Certificate: GC-2024-003-ADGOV-WAKALA
   - Token: ADGOV-WKL (100M supply, 342 holders)

4. **Saudi Aramco Green Sukuk Istisna** ğŸŸ¡ Certificate Only
   - Structure: Istisna (Construction financing)
   - Jurisdiction: Saudi CMA
   - Certificate: GC-2024-004-ARAMCO-ISTISNA
   - Token: Not yet tokenized

5. **Malaysia Sustainable Sukuk Musharaka** âœ… Complete
   - Structure: Musharaka (Partnership)
   - Jurisdiction: Malaysia SC
   - Certificate: GC-2024-005-MYS-MUSHARAKA
   - Token: MYS-MSH (75M supply, 215 holders)

6. **Kuwait Finance House Hybrid Sukuk** ğŸ”´ Pending
   - Structure: Hybrid
   - Jurisdiction: Kuwait CMA
   - Status: In progress (no certificate or token yet)

---

## ğŸ› Troubleshooting

### Common Issues

#### Port Already in Use

If port 3040 or 8000 is already in use:

```bash
# Windows
netstat -ano | findstr ":3040"
taskkill /F /PID <process_id>

# Mac/Linux
lsof -i :3040
kill <process_id>
```

#### Backend Connection Errors

- Verify backend is running on http://localhost:8000
- Check backend logs for errors
- Ensure Python virtual environment is activated
- Verify `.env` file exists in `backend/` directory

#### Frontend Not Loading

- Clear browser cache and refresh
- Check browser console for errors
- Verify both frontend and backend servers are running
- Check `.env.local` file has correct `NEXT_PUBLIC_API_URL`

#### Mock Data Not Appearing

- Backend auto-seeds data on startup
- If data is missing, restart the backend server
- Check backend logs for "âœ… Seeded mock deals with digital assets"

---

## ğŸ“– Documentation

### Core Documentation

- **[PROJECT_OVERVIEW.md](./PROJECT_OVERVIEW.md)** - Complete Phase 1 documentation with demo details
- **[PROGRESS_TRACKER_NOV5.md](./PROGRESS_TRACKER_NOV5.md)** - Today's session achievements
- **[KNOWLEDGE_BASE_AUTHORITATIVE_SOURCES.md](./KNOWLEDGE_BASE_AUTHORITATIVE_SOURCES.md)** - 23 authoritative sources across 4 categories
- **[STEP1_UI_REDESIGN_PROPOSAL.md](./STEP1_UI_REDESIGN_PROPOSAL.md)** - Backend architecture showcase design
- **[UX_IMPLEMENTATION_PLAN.md](./UX_IMPLEMENTATION_PLAN.md)** - 15-day UX implementation roadmap

### Research & Planning

- **[HEDERA_GUARDIAN_ATS_RESEARCH.md](./HEDERA_GUARDIAN_ATS_RESEARCH.md)** - Deep dive into Guardian + ATS integration
- **[HEDERA_TOKENIZATION_PLAN.md](./HEDERA_TOKENIZATION_PLAN.md)** - Asset Tokenization Studio research
- **[HEDERA_AUDIT_TRAIL_DOCUMENT_GENERATION.md](./HEDERA_AUDIT_TRAIL_DOCUMENT_GENERATION.md)** - Audit trail architecture
- **[DEMO_ENHANCEMENT_PLAN.md](./DEMO_ENHANCEMENT_PLAN.md)** - 7-week Hedera integration strategy
- **[GUARDIAN_INTEGRATION_MAPPING.md](./GUARDIAN_INTEGRATION_MAPPING.md)** - 11-step workflow with Guardian touchpoints
- **[LIFECYCLE_INTEGRATION_PLAN.md](./LIFECYCLE_INTEGRATION_PLAN.md)** - Complete lifecycle integration
- **[VISUAL_WORKFLOW_EXPLANATION.md](./VISUAL_WORKFLOW_EXPLANATION.md)** - End-to-end workflow diagram

### Developer Resources

- **[CLAUDE.md](./CLAUDE.md)** - Project-specific guidance for Claude Code
- **[FOR_DEVELOPERS.md](./FOR_DEVELOPERS.md)** - Backend team integration guide
- **[PLUGGABLE_ARCHITECTURE.md](./PLUGGABLE_ARCHITECTURE.md)** - System architecture
- **[KNOWN_GAPS.md](./KNOWN_GAPS.md)** - Current limitations and future work

---

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Contribution Guidelines

- Follow existing code style and conventions
- Use TypeScript for all frontend code
- Follow PEP 8 for Python backend code
- Add tests for new features
- Update documentation as needed
- Ensure all tests pass before submitting PR

---

## ğŸ¯ Roadmap

### Phase 1: Core Workflow âœ… COMPLETE
- Modular component-based configuration
- 10-step workflow with Guardian policy generation
- QIIB Oryx pre-configured demo
- Mock blockchain deployment

### Phase 2: Methodology Digitization âœ… COMPLETE
- 7-step AI-powered digitization pipeline
- LlamaParse + Claude AI integration
- Guardian schema generation from documents
- Step 2 alternative path (upload vs select)

### Phase 3: Digital Assets & Lifecycle âœ… COMPLETE
- Digital Assets management page
- Deal lifecycle tracking
- 6 auto-seeded mock deals
- Mock Guardian API (8 endpoints)
- Cross-deal certificate and token management

### Phase 4: Knowledge Base & UI âœ… COMPLETE
- 23 authoritative sources research
- Step 1 backend architecture showcase
- ZeroH rebranding
- Comprehensive navigation

### Phase 5: 5-Pillar Compliance Framework âœ… COMPLETE
- 5-pillar governance model (Shariah, Regulatory, Risk, Financial, Audit)
- AI-native dashboard with deal monitoring
- Deals list page with 5-pillar visualization
- Deal detail pages with comprehensive compliance tracking
- 5 mock deals with full compliance data (deal-001 through deal-005)
- Color-coded compliance status and progress tracking

### Phase 6: Qatar IjÄrah Demo with Agentic Pods âœ… COMPLETE
**Production-ready demo for Qatar IjÄrah off-plan construction financing**

**9 Interactive Scenes:**
1. **Project Setup** - Create deal, upload approvals, generate Shariah Policy Manual
2. **Escrow Wiring** - Connect escrow, validate deposits, per-unit sub-ledgers
3. **Construction Progress** - Upload reports, gate disbursements
4. **Contract Integrity** - Validate tri-split contracts (IstisnÄ', Wa'd, IjÄrah)
5. **Rent Gating â­ SHOWSTOPPER** - 2 AI Pods (Evidence Intake + Gatekeeping) â€¢ 91% time savings
6. **Retention Tracker** - 10% retention locked (QCB Circular 2/2025)
7. **Late Payment** - Block late fees, route to charity, SSB oversight
8. **GRC Dashboard** - 1 AI Pod (CCM Monitoring) â€¢ 99.8% time savings â€¢ 7 KPIs
9. **AI Control Center âš¡** - 3 pods working together â€¢ 95% time savings â€¢ HITL pattern

**3 Agentic Pods Integrated:**
- **Pod #1: Evidence Intake** (Scene 5) - OCR + hash validation â€¢ 8.5 min saved per document â€¢ 98% accuracy
- **Pod #2: CCM Monitoring** (Scene 8) - Tests all 15 controls â€¢ 40 min â†’ 4 sec (99.8% savings)
- **Pod #3: Gatekeeping** (Scene 5) - Precondition validation â€¢ 5.5 min â†’ 30 sec (91% savings)

**Complete Pod Infrastructure:**
- Type system for 11 pods (6 event-driven, 5 scheduled)
- Reusable UI components (PodCard, BeforeAfterMetrics, ThinkingAnimation)
- HITL-first pattern (L1 Autonomy: propose-only)
- KISS 4-step workflow (Intake â†’ Evaluate â†’ Propose â†’ HITL)
- Comprehensive documentation (AGENTIC_PODS_ARCHITECTURE.md)

**15 Controls Demonstrated:**
- 6 Shariah controls (AAOIFI SS-9, FAS-28)
- 6 Regulatory controls (QCB, QFCRA)
- 3 Risk controls
- All controls passed except IJR-A3 (late payment demo)

### Phase 7: Payment Evidence Token (PET) Integration ğŸ”„ IN PROGRESS
**QFC Digital Asset Regulations 2024 (DAR) compliant tokenization**

**Track A: Receipt-Only PET (Non-Transferable)**
- HTS NFT per qualifying payment (non-transferable proof-of-payment)
- Hedera Guardian integration for Certificates of Validation (CoV-VC)
- HCS anchoring for immutable audit trail
- Links to off-chain Rights Register (system of record)
- Avoids Investment Token Rules (TOKN) - not a rights-bearing token

**New Pods (Event-Driven):**
- **Pod #7: HCS Anchor** (auto) - Posts CoV-VC + evidence hashes to Hedera Consensus Service
- **Pod #8: PET Mint Decision** (HITL) - Compliance approves permitted-token status
- **Pod #9: HTS Mint & Deliver** (auto) - Creates NFT, associates, grants KYC, transfers

**Integration Points:**
- **Scene 2 (Escrow Wiring)** - PET workflow when investor payments arrive
- **Qatar IjÄrah Digital Assets Page** - PET registry, reconciliation, kill-switch controls

**Regulatory Compliance:**
- DAR Article 12 (generation steps: CoV â†’ request â†’ mint)
- DAR Article 19 (validation services)
- DAR Article 20 (token generation)
- TSP Guidelines (crypto/key mgmt, wallet controls, reconciliation)
- QFC Data Protection Regulations (PII off-chain)

**HTS Token Controls:**
- KYC key (grant only to owner account)
- Freeze default = true (non-transferable)
- Pause key (global kill-switch)
- Wipe key (reversal path)
- No custom fees (avoid "means of payment" behavior)

**Workflow (2 HITL Gates):**
1. Payment Received â†’ Build Evidence Bundle
2. **[HITL]** Validator approves â†’ Issue CoV-VC
3. Anchor to HCS â†’ Store hash on-chain
4. **[HITL]** Compliance approves mint config
5. Mint PET (HTS NFT) â†’ Deliver to investor wallet
6. Reconciliation: payments â†” PETs â†” contract ledger

### Phase 8: Real Guardian Integration ğŸ“‹ PLANNED
- Live Hedera Guardian connection
- Real policy deployment to testnet
- NFT certificate minting (HTS)
- Consensus service audit trail (HCS)
- IPFS document storage

### Phase 9: Asset Tokenization Studio ğŸ“‹ PLANNED
- Alternative Token System (ATS) integration
- Fractional ownership tokenization
- Secondary market connectivity
- Investor portal

### Phase 10: Advanced Features ğŸ“‹ PLANNED
- Multi-party collaboration workflows
- Real-time compliance monitoring
- Advanced analytics dashboard
- Mobile app (iOS/Android)

---

## ğŸ“„ License

[Add your license information here]

---

## ğŸ™ Acknowledgments

- Built with [Next.js](https://nextjs.org/) and [FastAPI](https://fastapi.tiangolo.com/)
- UI components from [shadcn/ui](https://ui.shadcn.com/)
- AI orchestration by [Claude](https://www.anthropic.com/claude) (Anthropic)
- BPMN visualization with [bpmn-js](https://bpmn.io/)
- Blockchain framework: [Hedera Guardian](https://www.hedera.com/guardian)
- Knowledge graph: [Graphiti](https://github.com/getzep/graphiti) + [Neo4j](https://neo4j.com/)

**Powered by** [Blade Labs](https://blade.build)

---

## ğŸ“š Islamic GRC Standards Compliance

This platform is built on authoritative Islamic finance and GRC standards:

### International Standards
- **ISO 37301:2021** - Compliance Management Systems (CMS)
- **ISO 31000:2018** - Risk Management
- **COSO Internal Control 2013** - 5 components (Control Environment, Risk Assessment, Control Activities, Information & Communication, Monitoring)
- **COSO ERM 2017** - Enterprise Risk Management

### Islamic Finance Standards
- **AAOIFI** (Accounting and Auditing Organization for Islamic Financial Institutions)
  - GS-1: Shariah Supervisory Board (appointment, composition, reporting)
  - GS-3: Internal Shariah Review
  - GS-5: Independence of SSB
  - GS-8: Central Shariah Board
  - GS-9: Shariah Compliance Function
  - GS-11: Internal Shariah Audit
  - SS-9: Ijarah (Islamic Leasing)
  - FAS-28: Murabaha and Other Deferred Payment Sales

- **IFSB** (Islamic Financial Services Board)
  - IFSB-1: Risk Management (SNCR, DCR, PER, IRR definitions)
  - IFSB-10: Shariah Governance Systems
  - IFSB-30: Revised Corporate Governance (2023)
  - IFSB-31: Effective Supervision of Shariah Governance (2025)

### National Regulators
- **Qatar**: QFCRA (Qatar Financial Centre Regulatory Authority) - IBANK Rules, QFC Digital Asset Regulations 2024
- **UAE**: DFSA (Dubai International Financial Centre), ADGM
- **Saudi Arabia**: SAMA Shariah Governance Framework (2020), CMA
- **Malaysia**: BNM Shariah Governance Policy (2019), Securities Commission
- **Bahrain**: CBB Shariah Governance Module

### Documentation & Contract Standards
- **IIFM** (International Islamic Financial Market) - Ijarah templates, Sukuk standards
- **ISDA-IIFM Tahawwut Master Agreement** - Islamic hedging
- **BAFT** - Murabaha Participation Agreements
- **MLETR** - Model Law on Electronic Transferable Records (for tokenization)

---

## ğŸ“ Support

For issues and questions:

- Create an issue in the [GitHub repository](https://github.com/Blade-Labs/islamic-finance-workflows/issues)
- Check [PROJECT_OVERVIEW.md](./PROJECT_OVERVIEW.md) for comprehensive documentation
- Review [troubleshooting section](#-troubleshooting)
- Explore the 14+ documentation files for detailed guidance

---

**Platform**: AI native Governance, Risk & Compliance platform for Islamic Finance
**Built On**: ISO 37301 â€¢ ISO 31000 â€¢ COSO â€¢ AAOIFI â€¢ IFSB
**Current Phase**: Phase 7 In Progress - Payment Evidence Token (PET) Integration
**Last Updated**: November 10, 2025
**Version**: 2.0.0
**Demo Status**: Fully functional with 9 Qatar IjÄrah scenes + 3 AI pods + Islamic GRC terminology + PET integration (in progress)

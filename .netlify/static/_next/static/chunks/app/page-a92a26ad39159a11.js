(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9286:function(e,s,a){Promise.resolve().then(a.bind(a,2651))},2549:function(e,s,a){"use strict";a.d(s,{Qd:function(){return d},UQ:function(){return c},o4:function(){return o},vF:function(){return m}});var t=a(7437),i=a(2265),n=a(3134),r=a(875),l=a(3448);let c=n.fC,d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.ck,{ref:s,className:(0,l.cn)("border-b",a),...i})});d.displayName="AccordionItem";let o=i.forwardRef((e,s)=>{let{className:a,children:i,...c}=e;return(0,t.jsx)(n.h4,{className:"flex",children:(0,t.jsxs)(n.xz,{ref:s,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...c,children:[i,(0,t.jsx)(r.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});o.displayName=n.xz.displayName;let m=i.forwardRef((e,s)=>{let{className:a,children:i,...r}=e;return(0,t.jsx)(n.VY,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,t.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",a),children:i})})});m.displayName=n.VY.displayName},5060:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var t=a(7437),i=a(2265),n=a(6394),r=a(535),l=a(3448);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),a),...i})});d.displayName=n.f.displayName},641:function(e,s,a){"use strict";a.d(s,{B:function(){return c},x:function(){return l}});var t=a(7437),i=a(2265),n=a(3643),r=a(3448);let l=i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(n.fC,{ref:s,className:(0,r.cn)("relative overflow-hidden",a),...l,children:[(0,t.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,t.jsx)(c,{}),(0,t.jsx)(n.Ns,{})]})});l.displayName=n.fC.displayName;let c=i.forwardRef((e,s)=>{let{className:a,orientation:i="vertical",...l}=e;return(0,t.jsx)(n.gb,{ref:s,orientation:i,className:(0,r.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,t.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=n.gb.displayName},5291:function(e,s,a){"use strict";a.d(s,{Bw:function(){return p},Ph:function(){return o},Ql:function(){return g},i4:function(){return x},ki:function(){return m}});var t=a(7437),i=a(2265),n=a(6873),r=a(875),l=a(2135),c=a(401),d=a(3448);let o=n.fC;n.ZA;let m=n.B4,x=i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(n.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[i,(0,t.jsx)(n.JO,{asChild:!0,children:(0,t.jsx)(r.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.xz.displayName;let h=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=n.u_.displayName;let u=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})});u.displayName=n.$G.displayName;let p=i.forwardRef((e,s)=>{let{className:a,children:i,position:r="popper",...l}=e;return(0,t.jsx)(n.h_,{children:(0,t.jsxs)(n.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...l,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,t.jsx)(u,{})]})})});p.displayName=n.VY.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...i})}).displayName=n.__.displayName;let g=i.forwardRef((e,s)=>{let{className:a,children:i,...r}=e;return(0,t.jsxs)(n.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.wU,{children:(0,t.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(n.eT,{children:i})]})});g.displayName=n.ck.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...i})}).displayName=n.Z0.displayName},1593:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(7437),i=a(2265),n=a(5156),r=a(3448);let l=i.forwardRef((e,s)=>{let{className:a,orientation:i="horizontal",decorative:l=!0,...c}=e;return(0,t.jsx)(n.f,{ref:s,decorative:l,orientation:i,className:(0,r.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",a),...c})});l.displayName=n.f.displayName},4589:function(e,s,a){"use strict";a.d(s,{r:function(){return l}});var t=a(7437),i=a(2265),n=a(721),r=a(3448);let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.fC,{className:(0,r.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:s,children:(0,t.jsx)(n.bU,{className:(0,r.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.fC.displayName},2651:function(e,s,a){"use strict";a.d(s,{WorkflowContainer:function(){return eR}});var t=a(7437),i=a(2265),n=a(9700),r=a(9820),l=a(7204),c=a(2381),d=a(641),o=a(2023),m=a(2451),x=a(407),h=a(9174),u=a(279),p=a(2549),g=a(3245),j=a(2934),f=a(519),N=a(4972),v=a(3420),b=a(9232),w=a(3247),y=a(1769),k=a(8906),S=a(9202),C=a(3618),Z=a(525),_=a(6362),I=a(1817),F=a(6965);async function A(e){var s,a;let t=await F.F.searchGraphiti(e.query,{num_results:e.num_results||10,group_ids:e.group_ids});return{query:t.query,results:(null===(s=t.facts)||void 0===s?void 0:s.map(e=>({fact:e.fact,relevance:e.relevance,type:e.type||"unknown",temporal:e.temporal})))||[],total_results:(null===(a=t.context)||void 0===a?void 0:a.total_facts)||0,answer:t.answer,status:t.status,context:t.context}}var R=a(5937),T=a(4589),M=a(5060),P=a(5291),D=a(8420),E=a(5805),O=a(370),q=a(7685),B=a(2128),z=a(8736),G=a(7689),Y=a(8330),L=a(9192);let V={Building2:D.Z,TrendingUp:Z.Z,Users:E.Z,PieChart:O.Z,Construction:q.Z,Wheat:B.Z};var X=a(3774),W=a(5252),H=a(6865),U=a(9798),J=a(2048),Q=a(6936);let K={BookOpen:y.Z,Globe:S.Z,Map:J.Z};var $=a(9547),ee=a(8896),es=a(6215),ea=a(1303),et=a(3327),ei=a(4452);let en={Leaf:$.Z,Target:ee.Z,BarChart3:es.Z,CircleDashed:ea.Z};var er=a(5868),el=a(9388),ec=a(6858),ed=a(9322),eo=a(2489);function em(e,s,a,t){let i=function(e,s){var a,t;let i=[],n=[],r=new Map,l=100,c=e.match(/<startEvent id="([^"]+)"/g);e.match(/<userTask id="([^"]+)"/g),e.match(/<serviceTask id="([^"]+)"/g),e.match(/<exclusiveGateway id="([^"]+)"/g),e.match(/<parallelGateway id="([^"]+)"/g);let d=e.match(/<endEvent id="([^"]+)"/g);if(c){let e=null===(a=c[0].match(/id="([^"]+)"/))||void 0===a?void 0:a[1];e&&(r.set(e,{x:180,y:l,width:36,height:36}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(e,'" bpmnElement="').concat(e,'">\n        <dc:Bounds x="').concat(180,'" y="').concat(l,'" width="36" height="36"/>\n      </bpmndi:BPMNShape>')),l+=120)}for(let s of e.split("\n")){let e=s.match(/<userTask id="([^"]+)"/);if(e){let s=e[1];if("revise_structure"===s){let e=r.get("shariah_gateway");e&&(r.set(s,{x:e.x+200,y:e.y,width:100,height:80}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(s,'" bpmnElement="').concat(s,'">\n        <dc:Bounds x="').concat(e.x+200,'" y="').concat(e.y-15,'" width="100" height="80"/>\n      </bpmndi:BPMNShape>')));continue}r.set(s,{x:180,y:l,width:100,height:80}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(s,'" bpmnElement="').concat(s,'">\n        <dc:Bounds x="').concat(180,'" y="').concat(l,'" width="100" height="80"/>\n      </bpmndi:BPMNShape>')),l+=120;continue}let a=s.match(/<serviceTask id="([^"]+)"/);if(a){let e=a[1];r.set(e,{x:180,y:l,width:100,height:80}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(e,'" bpmnElement="').concat(e,'">\n        <dc:Bounds x="').concat(180,'" y="').concat(l,'" width="100" height="80"/>\n      </bpmndi:BPMNShape>')),l+=120;continue}let t=s.match(/<exclusiveGateway id="([^"]+)"/);if(t){let e=t[1];r.set(e,{x:205,y:l,width:50,height:50}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(e,'" bpmnElement="').concat(e,'" isMarkerVisible="true">\n        <dc:Bounds x="').concat(205,'" y="').concat(l,'" width="50" height="50"/>\n      </bpmndi:BPMNShape>')),l+=120;continue}let n=s.match(/<parallelGateway id="([^"]+)"/);if(n){let e=n[1];r.set(e,{x:205,y:l,width:50,height:50}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(e,'" bpmnElement="').concat(e,'">\n        <dc:Bounds x="').concat(205,'" y="').concat(l,'" width="50" height="50"/>\n      </bpmndi:BPMNShape>')),l+=120;continue}}if(d){let e=null===(t=d[0].match(/id="([^"]+)"/))||void 0===t?void 0:t[1];e&&(r.set(e,{x:180,y:l,width:36,height:36}),i.push('      <bpmndi:BPMNShape id="shape_'.concat(e,'" bpmnElement="').concat(e,'">\n        <dc:Bounds x="').concat(180,'" y="').concat(l,'" width="36" height="36"/>\n      </bpmndi:BPMNShape>')))}for(let e of s.matchAll(/<sequenceFlow id="([^"]+)" (?:name="[^"]*" )?sourceRef="([^"]+)" targetRef="([^"]+)"/g)){let[,s,a,t]=e,i=r.get(a),l=r.get(t);if(i&&l){let e=i.x+i.width/2,a=i.y+i.height/2,t=l.x+l.width/2,r=l.y+l.height/2;n.push('      <bpmndi:BPMNEdge id="edge_'.concat(s,'" bpmnElement="').concat(s,'">\n        <di:waypoint x="').concat(e,'" y="').concat(a,'"/>\n        <di:waypoint x="').concat(t,'" y="').concat(r,'"/>\n      </bpmndi:BPMNEdge>'))}}return i.join("\n")+"\n"+n.join("\n")}(a,t);return'<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"\n             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"\n             xmlns:di="http://www.omg.org/spec/DD/20100524/DI"\n             xmlns:camunda="http://camunda.org/schema/1.0/bpmn"\n             id="definitions_'.concat(e,'"\n             targetNamespace="http://bpmn.io/schema/bpmn"\n             exporter="Islamic Finance Workflows"\n             exporterVersion="1.0">\n  <process id="').concat(e,'" name="').concat(s,'" isExecutable="true">\n').concat(a,"\n").concat(t,'\n  </process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="').concat(e,'">\n').concat(i,"\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>")}var ex=a(4963);function eh(e){let{xml:s,onElementClick:a,height:n="600px",className:r=""}=e,l=(0,i.useRef)(null),c=(0,i.useRef)(null),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{if(!l.current)return;let e=new ex.Z({container:l.current,keyboard:{bindTo:document},additionalModules:[]});if(c.current=e,(async()=>{try{x(!0),o(null),console.log("[BPMN Viewer] Importing XML...",s.substring(0,200));let a=await e.importXML(s);console.log("[BPMN Viewer] Import result:",a),e.get("canvas").zoom("fit-viewport","auto"),console.log("[BPMN Viewer] Successfully loaded and fitted diagram"),x(!1),o(null)}catch(e){console.error("[BPMN Viewer] Failed to import BPMN diagram:",e),console.log("[BPMN Viewer] XML that failed:",s),o("Failed to load workflow diagram"),x(!1)}})(),a){let s=e.get("eventBus"),t=e=>{let{element:s}=e;s&&s.id&&s.businessObject&&a(s.id,s)};return s.on("element.click",t),()=>{s.off("element.click",t),e.destroy()}}return()=>{e.destroy()}},[s,a]),(0,t.jsxs)("div",{className:"relative ".concat(r),children:[(0,t.jsx)("div",{ref:l,className:"bpmn-container border rounded-md bg-white",style:{height:n}}),m&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading workflow..."})]})}),d&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:d})})}),!m&&!d&&(0,t.jsxs)("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2",children:[(0,t.jsx)("button",{onClick:()=>{if(!c.current)return;let e=c.current.get("canvas"),s=e.zoom();e.zoom(1.2*s)},className:"flex h-10 w-10 items-center justify-center rounded-md border bg-white shadow-sm hover:bg-gray-50 transition-colors",title:"Zoom in",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m6-6H6"})})}),(0,t.jsx)("button",{onClick:()=>{if(!c.current)return;let e=c.current.get("canvas"),s=e.zoom();e.zoom(.8*s)},className:"flex h-10 w-10 items-center justify-center rounded-md border bg-white shadow-sm hover:bg-gray-50 transition-colors",title:"Zoom out",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})}),(0,t.jsx)("button",{onClick:()=>{c.current&&c.current.get("canvas").zoom("fit-viewport","auto")},className:"flex h-10 w-10 items-center justify-center rounded-md border bg-white shadow-sm hover:bg-gray-50 transition-colors",title:"Fit to viewport",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})}a(5958),a(4536);var eu=a(6744),ep=a(7117),eg=a(1723),ej=a(3781),ef=a(3276),eN=a(1094),ev=a(9076);let eb=[{id:1,name:"Issuer submits application",duration:2e3},{id:2,name:"Shariah board review",duration:5e3},{id:3,name:"Asset valuation",duration:3e3},{id:4,name:"Auditor verification",duration:4e3},{id:5,name:"Sukuk structure approval",duration:3e3},{id:6,name:"Legal documentation review",duration:4e3},{id:7,name:"Compliance check",duration:2e3},{id:8,name:"Pricing determination",duration:2e3},{id:9,name:"Investor allocation",duration:3e3},{id:10,name:"Settlement preparation",duration:2e3},{id:11,name:"Final Shariah certification",duration:3e3},{id:12,name:"Sukuk issuance complete",duration:1e3}],ew=[{id:"aaoifi_fas33",name:"AAOIFI FAS 33 compliance",status:"passed",message:"All requirements met"},{id:"required_roles",name:"All required roles assigned",status:"passed",message:"Shariah Board, Auditor, and Issuer assigned"},{id:"asset_verification",name:"Asset value verification",status:"warning",message:"Asset valuation report needs Shariah advisor signature",aiSuggestion:"Add Shariah signature to asset valuation document before launch"}];var ey=a(1593),ek=a(401),eS=a(8867),eC=a(6076),eZ=a(91),e_=a(8335),eI=a(9376),eF=a(5466);let eA=[{index:0,title:"Connect Sources",component:function(){var e;(0,n.I)(e=>e.execution);let s=(0,n.I)(e=>e.addError),[a,l]=(0,i.useState)(""),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1),F=async()=>{if(a.trim()){x(!0);try{let e=await A({query:a,num_results:10});o(e)}catch(e){s({id:"error_".concat(Date.now()),timestamp:new Date().toISOString(),severity:"error",title:"Search Failed",message:e.message||"Failed to search knowledge graph",technicalDetails:e.stack,dismissible:!0})}finally{x(!1)}}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(r.Zb,{className:"border-blue-200 bg-blue-50",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(r.ll,{className:"text-lg",children:"Backend Architecture Overview"})]})}),(0,t.jsxs)(r.aY,{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700 leading-relaxed",children:[(0,t.jsx)("strong",{children:"ZeroH"})," is powered by a modular backend architecture connecting:"]}),(0,t.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-gray-700",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"AI Memory System (Graphiti)"})," - Persistent knowledge graph for institutional learning"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Document Processing Pipeline"})," - Extract insights from AAOIFI, regulatory filings, and contracts"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Workflow Orchestration"})," - AI-driven execution with human collaboration checkpoints"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Blockchain Integration (Future)"})," - Hedera Guardian for verifiable compliance certificates"]})]})]}),(0,t.jsxs)("p",{className:"mt-4 text-xs text-gray-600",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 inline mr-1"}),"Services marked with ",(0,t.jsx)(j.Z,{className:"h-3 w-3 inline text-green-600 mx-1"})," are currently active. Services marked with ",(0,t.jsx)(f.Z,{className:"h-3 w-3 inline text-amber-500 mx-1"})," are in development."]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)(r.ll,{children:"Core AI Services"}),(0,t.jsx)(h.C,{className:"ml-auto bg-green-600",children:"4/4 Connected"})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Graphiti Knowledge Graph"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Neo4j + OpenAI"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Persistent institutional memory tracking entities, relationships, and temporal facts across all transactions"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Entity Recognition"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Citation Tracking"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Learning Extraction"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Document Processing Pipeline"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"LlamaParse + Claude"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Extract structured data from PDFs, Word docs, and text files with semantic understanding"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"PDF Parsing"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"OCR"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Table Extraction"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"AI Workflow Orchestrator"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Claude Sonnet 4.5"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Multi-step reasoning with tool use, streaming execution, and interruption handling"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Session Management"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"SSE Streaming"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Feedback Loops"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Model Context Protocol (MCP)"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Claude Agent SDK"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Standardized protocol for connecting AI models to external data sources and tools"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Graphiti MCP"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Tool Discovery"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Bi-directional Comms"})]})]})]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5 text-indigo-600"}),(0,t.jsx)(r.ll,{children:"Blockchain Integration Layer"}),(0,t.jsx)(h.C,{className:"ml-auto bg-amber-500",children:"Development Phase"})]}),(0,t.jsx)(r.SZ,{className:"text-xs mt-1",children:"Hedera DLT integration for verifiable compliance certification and tokenization"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Hedera Guardian"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Policy Engine"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Transform compliance requirements into executable policies with verifiable credentials"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Policy Digitization"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"VP/VC Issuance"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Trust Chain"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Hedera Consensus Service (HCS)"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Audit Trail"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Immutable timestamping and ordering of compliance events and policy executions"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Topic Streaming"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Event Ordering"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Tamper Proof"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Hedera Token Service (HTS)"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"NFT Minting"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Mint compliance certificates as NFTs with embedded credential metadata"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"NFT Creation"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Metadata Storage"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Transfer Control"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"IPFS Decentralized Storage"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Content Addressing"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Permanent, censorship-resistant storage for compliance documents and credentials"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"CID Generation"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Pinning"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Retrieval"})]})]})]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)(r.ll,{children:"Asset Tokenization Studio (ATS)"}),(0,t.jsx)(h.C,{className:"ml-auto bg-amber-500",children:"Development Phase"})]}),(0,t.jsx)(r.SZ,{className:"text-xs mt-1",children:"Convert compliance-certified Islamic finance assets into tradeable digital tokens"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Asset Token Issuance"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Fractional Ownership"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Create fungible tokens representing Islamic finance assets (Sukuk, Mudaraba, Musharaka) with built-in compliance validation"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Token Creation"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Supply Management"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Compliance Link"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Secondary Market Connectivity"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Trading Infrastructure"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Connect tokenized assets to exchanges and liquidity pools for Shariah-compliant secondary trading"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"DEX Integration"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Order Book"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Settlement"})]})]})]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(r.ll,{children:"Research & Discovery Services"}),(0,t.jsx)(h.C,{className:"ml-auto bg-amber-500",children:"Development Phase"})]}),(0,t.jsx)(r.SZ,{className:"text-xs mt-1",children:"AI-powered research across regulatory databases and legal precedents"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Exa AI Research Agent"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Semantic Search"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Neural search across academic papers, regulatory filings, and industry reports"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Citation Discovery"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Source Verification"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Knowledge Update"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Firecrawl Document Extraction"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Web Scraping"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Extract structured data from regulatory websites and document repositories"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Page Crawling"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Content Parsing"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Markdown Export"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Perplexity Real-time Intelligence"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:"Live Updates"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Monitor regulatory changes and market developments in real-time"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Regulatory Alerts"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Market News"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:"Precedent Tracking"})]})]})]})]})})]}),(0,t.jsxs)(r.Zb,{className:"border-purple-200",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)(r.ll,{children:"AI Knowledge Base"}),(0,t.jsx)(h.C,{className:"ml-auto bg-green-600",children:"20+ Authoritative Sources"})]}),(0,t.jsx)(r.SZ,{className:"text-xs mt-1",children:"Pre-loaded with authoritative documents across all Islamic finance disciplines"})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"7"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Shariah Structures"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"5"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Jurisdictions"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"3"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Accounting Frameworks"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"8"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Impact Metrics"})]})]}),(0,t.jsxs)(p.UQ,{type:"single",collapsible:!0,className:"w-full",children:[(0,t.jsxs)(p.Qd,{value:"shariah",children:[(0,t.jsx)(p.o4,{className:"text-sm font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 text-blue-600"}),"Shariah Structures (7)",(0,t.jsx)(h.C,{variant:"outline",className:"text-xs ml-2",children:"AAOIFI Standards"})]})}),(0,t.jsx)(p.vF,{children:(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Ijara"})," - AAOIFI SS 9, FAS 33",(0,t.jsx)("p",{className:"text-gray-600",children:"Lease-based structures (60% market share)"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Murabaha"})," - AAOIFI FAS 28",(0,t.jsx)("p",{className:"text-gray-600",children:"Cost-plus financing structures"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Musharaka"})," - AAOIFI FAS 4",(0,t.jsx)("p",{className:"text-gray-600",children:"Partnership-based financing"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Mudaraba"})," - AAOIFI SS 40",(0,t.jsx)("p",{className:"text-gray-600",children:"Profit-sharing agreements"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Istisna, Salam, Wakala"})," - AAOIFI Standards",(0,t.jsx)("p",{className:"text-gray-600",children:"Manufacturing, forward sale, agency contracts"})]})]})]})})]}),(0,t.jsxs)(p.Qd,{value:"jurisdictions",children:[(0,t.jsx)(p.o4,{className:"text-sm font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 text-green-600"}),"Jurisdictions (5)",(0,t.jsx)(h.C,{variant:"outline",className:"text-xs ml-2",children:"Regulatory Frameworks"})]})}),(0,t.jsx)(p.vF,{children:(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"UAE DFSA"})," - DFSA Rulebook (Sukuks Module)",(0,t.jsx)("p",{className:"text-gray-600",children:"Dubai Financial Services Authority"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Saudi CMA"})," - Chambers Islamic Finance Guide 2025",(0,t.jsx)("p",{className:"text-gray-600",children:"Capital Market Authority regulations"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Qatar QFC"})," - QFC Rulebook IBANK 10.1.2, Sustainable Framework",(0,t.jsx)("p",{className:"text-gray-600",children:"Qatar Financial Centre regulations"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Malaysia SC"})," - Guidelines on Islamic Capital Market Products",(0,t.jsx)("p",{className:"text-gray-600",children:"Securities Commission Malaysia"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Luxembourg"})," - Securitisation Law, Islamic Finance Framework",(0,t.jsx)("p",{className:"text-gray-600",children:"European Islamic finance hub"})]})]})]})})]}),(0,t.jsxs)(p.Qd,{value:"accounting",children:[(0,t.jsx)(p.o4,{className:"text-sm font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 text-purple-600"}),"Accounting Frameworks (3)",(0,t.jsx)(h.C,{variant:"outline",className:"text-xs ml-2",children:"Financial Standards"})]})}),(0,t.jsx)(p.vF,{children:(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"AAOIFI"})," - 62+ FAS, 65+ Shariah Standards",(0,t.jsx)("p",{className:"text-gray-600",children:"Islamic accounting & auditing standards"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"IFRS + Islamic"})," - SSRN Research Papers",(0,t.jsx)("p",{className:"text-gray-600",children:"IFRS reconciliation with Islamic principles"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Local GAAP"})," - Jurisdiction-specific",(0,t.jsx)("p",{className:"text-gray-600",children:"Covered in regulatory frameworks above"})]})]})]})})]}),(0,t.jsxs)(p.Qd,{value:"impact",children:[(0,t.jsx)(p.o4,{className:"text-sm font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-amber-600"}),"Impact Metrics (8)",(0,t.jsx)(h.C,{variant:"outline",className:"text-xs ml-2",children:"ESG & Sustainability"})]})}),(0,t.jsx)(p.vF,{children:(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Green Sukuk"})," - ICMA Guidance (April 2024, 28 pages PDF)",(0,t.jsx)("p",{className:"text-gray-600",children:"Green, Social, Sustainability Sukuk principles"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"SDG Sukuk"})," - UNDP Report",(0,t.jsx)("p",{className:"text-gray-600",children:"UN Sustainable Development Goals alignment"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"ESG Framework"})," - ICMA Sustainable Sukuk",(0,t.jsx)("p",{className:"text-gray-600",children:"Environmental, Social, Governance criteria"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"QFC Sustainable"})," - Qatar Sustainable Framework",(0,t.jsx)("p",{className:"text-gray-600",children:"Qatar Financial Centre green sukuk standards"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"VBI Malaysia"})," - Bank Negara VBI Framework",(0,t.jsx)("p",{className:"text-gray-600",children:"Value-Based Intermediation impact assessment"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Islamic Social Finance"})," - Research Papers",(0,t.jsx)("p",{className:"text-gray-600",children:"Zakat, Waqf, Qard Hassan integration"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"CBI Certification"})," - Climate Bonds Initiative",(0,t.jsx)("p",{className:"text-gray-600",children:"Green sukuk certification standards"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded",children:[(0,t.jsx)(j.Z,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"No Impact"})," - N/A",(0,t.jsx)("p",{className:"text-gray-600",children:"Conventional transactions without impact metrics"})]})]})]})})]})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold text-blue-900",children:"View Complete Knowledge Base"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"See KNOWLEDGE_BASE_AUTHORITATIVE_SOURCES.md for full document catalog with URLs and accessibility information"})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5 text-gray-600"}),"Optional: Explore Knowledge Graph"]}),(0,t.jsx)(r.SZ,{className:"text-xs mt-1",children:"Test natural language queries against the Graphiti knowledge graph (demo feature)"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.I,{placeholder:"e.g., What are the requirements for Murabaha contracts?",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&F()}}),(0,t.jsx)(c.z,{onClick:F,disabled:m||!a.trim(),children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Search"]})})]}),d&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium",children:['Results for "',d.query,'"']}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(h.C,{variant:"secondary",children:[d.total_results," ",1===d.total_results?"fact":"facts"]}),(0,t.jsxs)(h.C,{variant:"outline",className:"capitalize",children:[(null===(e=d.context)||void 0===e?void 0:e.confidence)||"medium"," confidence"]})]})]}),0===d.total_results?(0,t.jsx)("div",{className:"p-4 bg-muted rounded-md text-sm text-muted-foreground text-center",children:"No results found. Try a different query."}):(0,t.jsxs)(t.Fragment,{children:[d.answer&&(0,t.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-primary mb-2",children:"Summary"}),(0,t.jsx)("div",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:d.answer})]}),(0,t.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold",children:"Knowledge Graph Facts"}),d.results.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"p-4 bg-background rounded-lg border border-border hover:border-primary/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-2",children:[(0,t.jsx)("p",{className:"text-sm leading-relaxed flex-1",children:e.fact}),(0,t.jsxs)(h.C,{variant:"outline",className:"text-xs whitespace-nowrap",children:[(100*e.relevance).toFixed(0),"% match"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2 pt-2 border-t",children:[(0,t.jsx)("span",{className:"font-medium",children:e.type}),(null===(a=e.temporal)||void 0===a?void 0:a.created)&&(0,t.jsxs)("time",{children:["â€¢ ",new Date(e.temporal.created).toLocaleDateString()]})]})]},s)})]})]})]})]})]})]})}},{index:1,title:"Select Shariah Structure",component:function(){var e,s;let a=(0,n.I)(e=>e.execution),l=(0,n.I)(e=>e.setShariahStructure),c=(0,n.I)(e=>e.setIsSecuritized),d=(0,n.I)(e=>e.setTakaful),[m,x]=(0,i.useState)((null==a?void 0:a.selectedShariahStructure)||null),[p,f]=(0,i.useState)((null==a?void 0:a.isSecuritized)||!1),[N,v]=(0,i.useState)((null==a?void 0:a.selectedTakaful)||{enabled:!1}),w=e=>{x(e),l(e)},y=(e,s)=>{let a={...N,[e]:s};v(a),d(a)},S=e=>e&&V[e]?V[e]:D.Z;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Select Shariah Structure"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Choose the Islamic finance contract mechanism for your deal. You'll decide next whether to securitize it as Sukuk (tradable certificates) or use it for direct financing. (Component 1 of 4)"})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{children:"AI Guidance"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:"Ijara"})," (lease-based, 60% market share) is recommended for asset-backed deals. For trade finance, consider ",(0,t.jsx)("strong",{children:"Murabaha"}),". For partnerships, use ",(0,t.jsx)("strong",{children:"Musharaka"})," or ",(0,t.jsx)("strong",{children:"Mudaraba"}),". After selecting a structure, you'll choose whether to securitize it as Sukuk."]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.fM.map(e=>{let s=S(e.icon),a=(null==m?void 0:m.id)===e.id;return(0,t.jsxs)(r.Zb,{className:"cursor-pointer transition-all hover:shadow-md ".concat(a?"ring-2 ring-primary border-primary":""),onClick:()=>w(e),children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-primary text-primary-foreground":"bg-muted"),children:(0,t.jsx)(s,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-lg",children:e.name}),e.marketShare&&(0,t.jsxs)(h.C,{variant:"secondary",className:"mt-1",children:[e.marketShare,"% Market Share"]})]})]}),a&&(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Common Use Cases:"}),(0,t.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.useCases.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-1",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Required Roles:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.requiredRoles.slice(0,3).map((e,s)=>(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:e},s)),e.requiredRoles.length>3&&(0,t.jsxs)(h.C,{variant:"outline",className:"text-xs",children:["+",e.requiredRoles.length-3," more"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"AAOIFI Standards:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.aaoifiStandards.slice(0,2).map((e,s)=>(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:e.length>30?e.substring(0,30)+"...":e},s))})]})]})]},e.id)})}),m&&(0,t.jsx)(r.Zb,{className:"border-2 border-dashed border-primary/30 bg-primary/5",children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-primary"}),(0,t.jsx)(M._,{htmlFor:"securitization-toggle",className:"text-lg font-semibold cursor-pointer",children:"Securitize as Sukuk (Issue Tradable Certificates)"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("strong",{children:"Sukuk (ON)"}),": Creates tradable Islamic certificates backed by ",m.name," contracts. Suitable for capital markets and investor distribution.",(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"Direct Financing (OFF)"}),": Uses ",m.name," contracts directly for bilateral financing, leasing, or trade. No securitization layer."]}),p&&(0,t.jsxs)(R.bZ,{className:"mt-3 bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)(R.X,{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Sukuk Mode Enabled:"})," Your workflow will generate Sukuk issuance documentation with SPV structure, trustee roles, and certificate terms based on ",m.name," contracts."]})]}),!p&&m&&(0,t.jsxs)(R.bZ,{className:"mt-3 bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)(R.X,{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Direct Financing Mode:"})," Your workflow will generate direct ",m.name," financing documentation without securitization."]})]})]}),(0,t.jsx)(T.r,{id:"securitization-toggle",checked:p,onCheckedChange:e=>{f(e),c(e)},className:"mt-1"})]})})}),m&&(0,t.jsx)(r.Zb,{className:"border-2 border-dashed border-blue-500/30 bg-blue-50/50 dark:bg-blue-950/30",children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(M._,{htmlFor:"takaful-toggle",className:"text-lg font-semibold cursor-pointer",children:"Add Takaful (Islamic Insurance)"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("strong",{children:"Takaful (ON)"}),": Adds Islamic insurance coverage to your structure. Common for credit risk, asset protection, or commodity coverage.",(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"No Takaful (OFF)"}),": Proceeds without insurance overlay (most common for standard deals)."]})]}),(0,t.jsx)(T.r,{id:"takaful-toggle",checked:N.enabled,onCheckedChange:e=>{let s=e?{enabled:!0,model:"wakalah",coverageType:"credit",provider:"",description:""}:{enabled:!1};v(s),d(s)},className:"mt-1"})]}),N.enabled&&(0,t.jsxs)("div",{className:"space-y-4 pl-8 border-l-2 border-blue-300",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M._,{htmlFor:"takaful-model",children:"Takaful Model"}),(0,t.jsxs)(P.Ph,{value:N.model||"wakalah",onValueChange:e=>y("model",e),children:[(0,t.jsx)(P.i4,{id:"takaful-model",children:(0,t.jsx)(P.ki,{placeholder:"Select Takaful model"})}),(0,t.jsxs)(P.Bw,{children:[(0,t.jsx)(P.Ql,{value:"mudaraba",children:"Mudaraba (Profit-Sharing)"}),(0,t.jsx)(P.Ql,{value:"wakalah",children:"Wakalah (Agency) - Most Common"}),(0,t.jsx)(P.Ql,{value:"hybrid",children:"Hybrid (Wakalah + Mudaraba)"})]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["mudaraba"===N.model&&"Profit-sharing model where surplus is shared between participants and operator.","wakalah"===N.model&&"Agency model where operator receives fixed fee. Most widely used.","hybrid"===N.model&&"Combines agency fee with profit-sharing of surplus."]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M._,{htmlFor:"coverage-type",children:"Coverage Type"}),(0,t.jsxs)(P.Ph,{value:N.coverageType||"credit",onValueChange:e=>y("coverageType",e),children:[(0,t.jsx)(P.i4,{id:"coverage-type",children:(0,t.jsx)(P.ki,{placeholder:"Select coverage type"})}),(0,t.jsxs)(P.Bw,{children:[(0,t.jsx)(P.Ql,{value:"credit",children:"Credit Risk Coverage"}),(0,t.jsx)(P.Ql,{value:"asset",children:"Asset Protection"}),(0,t.jsx)(P.Ql,{value:"performance",children:"Performance Guarantee"}),(0,t.jsx)(P.Ql,{value:"commodity",children:"Commodity/Trade Insurance"})]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["credit"===N.coverageType&&"Covers credit default risk (common for Sukuk and financing).","asset"===N.coverageType&&"Protects underlying assets (common for Ijara leasing).","performance"===N.coverageType&&"Guarantees performance obligations (construction, projects).","commodity"===N.coverageType&&"Covers commodity and trade transactions (Murabaha, Salam)."]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M._,{htmlFor:"takaful-provider",children:"Takaful Provider (Optional)"}),(0,t.jsx)(u.I,{id:"takaful-provider",type:"text",placeholder:"e.g., Takaful International, Re-Takaful Provider",value:N.provider||"",onChange:e=>y("provider",e.target.value)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Name of the Takaful or Re-Takaful provider (leave blank if not yet selected)."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M._,{htmlFor:"takaful-description",children:"Coverage Description (Optional)"}),(0,t.jsx)(u.I,{id:"takaful-description",type:"text",placeholder:"Brief description of coverage terms",value:N.description||"",onChange:e=>y("description",e.target.value)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional details about coverage amount, terms, or specific conditions."})]}),(0,t.jsxs)(R.bZ,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)(R.X,{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Takaful Enabled:"})," Your workflow will include Islamic insurance (",N.model,") covering ",null===(e=N.coverageType)||void 0===e?void 0:e.replace("_"," ")," for your ",m.name," structure."]})]})]})]})})}),m&&(0,t.jsxs)(R.bZ,{className:"border-green-600 bg-green-50 dark:bg-green-950",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{children:"Configuration Complete"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:m.name})," ",p?"Sukuk":"Direct Financing"," selected."," ",m.marketShare&&"(".concat(m.marketShare,"% market share) "),(0,t.jsx)("br",{}),p?(0,t.jsxs)("span",{className:"text-sm",children:["You're creating ",(0,t.jsx)("strong",{children:"Sukuk certificates"})," backed by ",m.name," contracts."]}):(0,t.jsxs)("span",{className:"text-sm",children:["You're using ",(0,t.jsxs)("strong",{children:[m.name," contracts directly"]})," without securitization."]}),N.enabled&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-sm mt-1 inline-block",children:[(0,t.jsx)("strong",{children:"Takaful:"})," ",N.model," model with ",null===(s=N.coverageType)||void 0===s?void 0:s.replace("_"," ")," coverage."]})]}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-sm mt-1 inline-block",children:"Next: Select jurisdiction for regulatory framework."})]})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"What are Shariah Structures and Sukuk?"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:"Shariah Structures"})," are Islamic finance contract types (Ijara, Murabaha, etc.) that define the mechanism of the deal.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"Sukuk"})," are Islamic certificates that ",(0,t.jsx)("em",{children:"securitize"})," these contracts into tradable instruments. Think of it as:",(0,t.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Contract Type"})," (Ijara, Murabaha, etc.) = the underlying Islamic finance mechanism"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Sukuk"})," = tradable certificates backed by those contracts (optional securitization layer)"]})]}),(0,t.jsx)("br",{}),"Not all Islamic finance uses Sukuk - you can use contracts directly for bilateral financing, leasing, or trade."]})]}),(0,t.jsxs)(r.Zb,{className:"border-2 border-dashed border-amber-500/30 bg-amber-50/50 dark:bg-amber-950/30",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(G.Z,{className:"h-5 w-5 text-amber-600"}),(0,t.jsx)(r.ll,{className:"text-lg",children:"Or Upload Your Own Methodology"})]}),(0,t.jsx)(r.SZ,{children:"Already have a methodology document (IIFM, AAOIFI, custom)? Upload it to digitize the policy intent and extract the Shariah structure."})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)(L.N,{})})]})]})}},{index:2,title:"Select Jurisdiction",component:function(){let e=(0,n.I)(e=>e.execution),s=(0,n.I)(e=>e.setJurisdiction),[a,l]=(0,i.useState)((null==e?void 0:e.selectedJurisdiction)||null),c=e=>{l(e),s(e)},d=e=>null===e||0===e?"default":e<15?"secondary":e<25?"outline":"destructive";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Select Jurisdiction"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Choose the legal and regulatory framework for your deal (Component 2 of 4)"})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{children:"AI Guidance"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:"UAE DFSA"})," offers flexibility and tax efficiency (0% tax)."," ",(0,t.jsx)("strong",{children:"Malaysia SC"})," has the most developed Islamic capital market."," ",(0,t.jsx)("strong",{children:"Saudi Arabia CMA"})," requires AAOIFI standards but offers access to the largest Sukuk market."]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:U.eX.map(e=>{var s;let i=(null==a?void 0:a.id)===e.id;return(0,t.jsxs)(r.Zb,{className:"cursor-pointer transition-all hover:shadow-md ".concat(i?"ring-2 ring-primary border-primary":""),onClick:()=>c(e),children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(i?"bg-primary text-primary-foreground":"bg-muted"),children:(0,t.jsx)(X.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-lg",children:e.name}),(0,t.jsx)(h.C,{variant:"secondary",className:"mt-1",children:e.region})]})]}),i&&(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Regulator:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.regulator})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Tax Rate:"}),null===e.taxRate||0===e.taxRate?(0,t.jsx)(h.C,{variant:"default",children:"0% (Tax-Free)"}):(0,t.jsxs)(h.C,{variant:d(e.taxRate),children:[e.taxRate,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Languages:"})," ",e.requiredLanguages.join(", ")]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-medium",children:"Currencies:"})," ",e.currencies.join(", ")]})]})]}),e.mandatoryAccounting&&e.mandatoryAccounting.length>0&&(0,t.jsxs)(R.bZ,{variant:"warning",className:"py-2",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4"}),(0,t.jsxs)(R.X,{className:"text-xs",children:[(0,t.jsx)("strong",{children:"Requires:"})," ",e.mandatoryAccounting.map(e=>e.toUpperCase()).join(" or ")," accounting"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Listing Requirements:"}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[null===(s=e.listingRequirements)||void 0===s?void 0:s.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-1",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s)),e.listingRequirements&&e.listingRequirements.length>3&&(0,t.jsxs)("li",{className:"text-xs text-muted-foreground italic",children:["+",e.listingRequirements.length-3," more requirements"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Compatible Accounting:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.compatibleAccounting.map((e,s)=>(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:e.toUpperCase()},s))})]})]})]},e.id)})}),a&&(0,t.jsxs)(R.bZ,{className:"border-green-600 bg-green-50 dark:bg-green-950",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{children:"Jurisdiction Selected"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:a.name})," selected."," ",null===a.taxRate||0===a.taxRate?(0,t.jsx)("span",{children:"Tax-free jurisdiction. "}):(0,t.jsxs)("span",{children:[a.taxRate,"% corporate tax rate. "]}),a.mandatoryAccounting&&a.mandatoryAccounting.length>0&&(0,t.jsxs)("span",{className:"font-medium",children:["Note: ",a.mandatoryAccounting.map(e=>e.toUpperCase()).join(" or ")," accounting required."," "]}),"Next: Select accounting framework."]})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"What is a Jurisdiction?"}),(0,t.jsxs)(R.X,{children:["The jurisdiction determines the ",(0,t.jsx)("strong",{children:"legal and regulatory framework"})," for your Sukuk issuance. This includes listing requirements, tax treatment, mandatory accounting standards, and language requirements. Each jurisdiction has unique compliance obligations and market access implications."]})]})]})}},{index:3,title:"Select Accounting",component:function(){let e=(0,n.I)(e=>e.execution),s=(0,n.I)(e=>e.setAccounting),[a,l]=(0,i.useState)((null==e?void 0:e.selectedAccounting)||null),c=null==e?void 0:e.selectedJurisdiction;c?(0,Q.yk)(c.id):Q.yK;let d=c?(0,Q.eu)(c.id):void 0,m=e=>{l(e),s(e)},x=e=>e&&K[e]?K[e]:y.Z,u=e=>!c||e.compatibleJurisdictions.includes(c.id),p=e=>(null==d?void 0:d.id)===e.id;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Select Accounting Framework"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Choose the accounting and reporting standard for your deal (Component 3 of 4)"})]}),c&&(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{children:"Jurisdiction Context"}),(0,t.jsxs)(R.X,{children:["You selected ",(0,t.jsx)("strong",{children:c.name}),"."," ",d?(0,t.jsxs)("span",{className:"font-medium text-orange-600",children:[d.name," is required for this jurisdiction."]}):(0,t.jsx)("span",{children:"All accounting frameworks are compatible with this jurisdiction."})]})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{children:"AI Guidance"}),(0,t.jsx)(R.X,{children:d?(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:d.name})," is required for ",null==c?void 0:c.name,"."]}):(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"AAOIFI"})," is the global benchmark for Islamic finance (required in Saudi Arabia)."," ",(0,t.jsx)("strong",{children:"IFRS+Islamic"})," is preferred for international issuances."," ",(0,t.jsx)("strong",{children:"Local GAAP"})," for domestic-only deals."]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Q.yK.map(e=>{let s=x(e.icon),i=(null==a?void 0:a.id)===e.id,n=u(e),l=p(e);return(0,t.jsxs)(r.Zb,{className:"cursor-pointer transition-all hover:shadow-md ".concat(i?"ring-2 ring-primary border-primary":""," ").concat(n?"":"opacity-50 cursor-not-allowed"),onClick:()=>n&&m(e),children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(i?"bg-primary text-primary-foreground":"bg-muted"),children:(0,t.jsx)(s,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-base",children:e.name}),l&&(0,t.jsx)(h.C,{variant:"destructive",className:"mt-1 text-xs",children:"Required"})]})]}),i&&(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Organization:"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.organization})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Key Standards:"}),(0,t.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.applicableStandards.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s)),e.applicableStandards.length>3&&(0,t.jsxs)("li",{className:"text-xs text-muted-foreground italic",children:["+",e.applicableStandards.length-3," more standards"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Reporting:"}),(0,t.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.reportingRequirements.slice(0,2).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s)),e.reportingRequirements.length>2&&(0,t.jsxs)("li",{className:"text-xs text-muted-foreground italic",children:["+",e.reportingRequirements.length-2," more requirements"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Compatible With:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.compatibleJurisdictions.slice(0,3).map((e,s)=>(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:e.replace("_"," ").toUpperCase()},s)),e.compatibleJurisdictions.length>3&&(0,t.jsxs)(h.C,{variant:"outline",className:"text-xs",children:["+",e.compatibleJurisdictions.length-3]})]})]}),e.websiteUrl&&(0,t.jsxs)("a",{href:e.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline",onClick:e=>e.stopPropagation(),children:["Learn more ",(0,t.jsx)(_.Z,{className:"h-3 w-3"})]}),!n&&c&&(0,t.jsxs)(R.bZ,{variant:"warning",className:"py-2",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4"}),(0,t.jsxs)(R.X,{className:"text-xs",children:["Not compatible with ",c.name]})]})]})]},e.id)})}),a&&(0,t.jsxs)(R.bZ,{className:"border-green-600 bg-green-50 dark:bg-green-950",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{children:"Accounting Framework Selected"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:a.name})," selected."," ",p(a)&&(0,t.jsxs)("span",{className:"font-medium",children:["This framework is required for ",null==c?void 0:c.name,". "]}),a.applicableStandards.length," applicable standards."," ","Next: Select impact metrics (ESG/sustainability)."]})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"What is an Accounting Framework?"}),(0,t.jsxs)(R.X,{children:["The accounting framework determines the ",(0,t.jsx)("strong",{children:"financial reporting standards"})," for your Sukuk. This includes applicable accounting standards (e.g., AAOIFI FAS 33, IFRS 9), reporting requirements, and audit obligations. Some jurisdictions mandate specific frameworks (e.g., Saudi Arabia requires AAOIFI)."]})]})]})}},{index:4,title:"Select Impact Metrics",component:function(){let e=(0,n.I)(e=>e.execution),s=(0,n.I)(e=>e.toggleImpact),a=(null==e?void 0:e.selectedImpacts)||[],i=e=>{s(e)},l=e=>a.some(s=>s.id===e),c=e=>e&&en[e]?en[e]:ee.Z,d=e=>{switch(e){case"environmental":return"default";case"social":return"secondary";case"governance":default:return"outline";case"none":return"destructive"}},m=e=>{switch(e){case"environmental":return"Environmental";case"social":return"Social";case"governance":return"Governance";case"none":return"No Impact Focus";default:return e}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Select Impact Metrics"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Select one or more ESG/sustainability frameworks for your deal (Component 4 of 4)"})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{children:"AI Guidance (Multi-Select Available)"}),(0,t.jsxs)(R.X,{children:[(0,t.jsx)("strong",{children:"You can select multiple frameworks!"})," Combine"," ",(0,t.jsx)("strong",{children:"Green Sukuk"})," (renewable energy) with ",(0,t.jsx)("strong",{children:"SDG-Linked"})," (social impact)."," ","Or use ",(0,t.jsx)("strong",{children:"ESG Framework"})," alone for comprehensive sustainability."," ","Select ",(0,t.jsx)("strong",{children:"No Impact Metrics"})," only for conventional Sukuk without ESG focus."]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ei.BZ.map(e=>{let s=c(e.icon),a=l(e.id);return(0,t.jsxs)(r.Zb,{className:"cursor-pointer transition-all hover:shadow-md ".concat(a?"ring-2 ring-primary border-primary":""),onClick:()=>i(e),children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-primary text-primary-foreground":"bg-muted"),children:(0,t.jsx)(s,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-lg",children:e.name}),(0,t.jsx)(h.C,{variant:d(e.category),className:"mt-1",children:m(e.category)})]})]}),a&&(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),e.framework&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Framework:"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.framework})]}),e.certificationRequired&&(0,t.jsxs)(R.bZ,{variant:"warning",className:"py-2",children:[(0,t.jsx)(et.Z,{className:"h-4 w-4"}),(0,t.jsxs)(R.X,{className:"text-xs",children:[(0,t.jsx)("strong",{children:"Certification Required"}),e.certifiers&&e.certifiers.length>0&&(0,t.jsxs)("span",{children:[" - ",e.certifiers[0]]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Reporting:"}),(0,t.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.reportingRequirements.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s)),e.reportingRequirements.length>3&&(0,t.jsxs)("li",{className:"text-xs text-muted-foreground italic",children:["+",e.reportingRequirements.length-3," more requirements"]})]})]}),e.useCases&&e.useCases.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Use Cases:"}),(0,t.jsx)("ul",{className:"text-xs text-muted-foreground space-y-1",children:e.useCases.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s))})]}),e.examples&&e.examples.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Examples:"}),(0,t.jsx)("ul",{className:"text-xs text-muted-foreground space-y-1",children:e.examples.slice(0,2).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s))})]}),e.websiteUrl&&(0,t.jsxs)("a",{href:e.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline",onClick:e=>e.stopPropagation(),children:["Learn more ",(0,t.jsx)(_.Z,{className:"h-3 w-3"})]})]})]},e.id)})}),a.length>0&&(0,t.jsxs)(R.bZ,{className:"border-green-600 bg-green-50 dark:bg-green-950",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)(R.Cd,{children:[a.length," Impact Framework",a.length>1?"s":""," Selected"]}),(0,t.jsx)(R.X,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[a.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:e.name})," (",m(e.category),")",e.certificationRequired&&(0,t.jsx)("span",{className:"font-medium",children:" - Certification required"})," - ",e.reportingRequirements.length," reporting requirements"]},e.id)),(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-green-600/20",children:"Next: Review your complete configuration."})]})})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"What are Impact Metrics?"}),(0,t.jsxs)(R.X,{children:["Impact metrics define the ",(0,t.jsx)("strong",{children:"ESG and sustainability framework"})," for your Sukuk. This includes environmental goals (Green Sukuk), social objectives (SDG-Linked), comprehensive ESG criteria, or no specific impact focus. Some frameworks require third-party certification and have specific reporting obligations (e.g., ICMA Green Bond Principles, UN SDGs)."]})]})]})}},{index:5,title:"Review Configuration",component:function(){var e,s,a,l,d,o,m;let x=(0,n.I)(e=>e.execution),u=(0,n.I)(e=>e.buildDealConfiguration),[p,f]=(0,i.useState)(null),N=null==x?void 0:x.selectedShariahStructure,v=null==x?void 0:x.selectedJurisdiction,b=null==x?void 0:x.selectedAccounting,w=(null==x?void 0:x.selectedImpacts)||[];(0,i.useEffect)(()=>{N&&v&&b&&w.length>0?f(u()):f(null)},[N,v,b,w,u]);let k=N&&v&&b&&w.length>0,S=null!==(d=null==p?void 0:p.isValid)&&void 0!==d&&d,C=(null!==(o=null==p?void 0:null===(e=p.validationErrors)||void 0===e?void 0:e.length)&&void 0!==o?o:0)>0,Z=(null!==(m=null==p?void 0:null===(s=p.validationWarnings)||void 0===s?void 0:s.length)&&void 0!==m?m:0)>0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Review Configuration"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Review your complete 4-component configuration and validation results"})]}),!k&&(0,t.jsxs)(R.bZ,{variant:"warning",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Incomplete Configuration"}),(0,t.jsxs)(R.X,{children:["Please complete all 4 component selections before reviewing your configuration:",(0,t.jsxs)("ul",{className:"mt-2 space-y-1 text-sm",children:[!N&&(0,t.jsx)("li",{children:"â€¢ Step 2: Select Shariah Structure"}),!v&&(0,t.jsx)("li",{children:"â€¢ Step 3: Select Jurisdiction"}),!b&&(0,t.jsx)("li",{children:"â€¢ Step 4: Select Accounting Framework"}),0===w.length&&(0,t.jsx)("li",{children:"â€¢ Step 5: Select Impact Metrics"})]})]})]}),k&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.Z,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Shariah Structure"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:null==N?void 0:N.name})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-8",children:(0,t.jsx)(er.Z,{className:"h-4 w-4"})})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:null==N?void 0:N.description}),(null==N?void 0:N.marketShare)&&(0,t.jsxs)(h.C,{variant:"secondary",children:[N.marketShare,"% Market Share"]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(X.Z,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Jurisdiction"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:null==v?void 0:v.name})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-8",children:(0,t.jsx)(er.Z,{className:"h-4 w-4"})})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:null==v?void 0:v.regulator}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.C,{variant:"outline",children:null==v?void 0:v.region}),(null==v?void 0:v.taxRate)!==null&&(null==v?void 0:v.taxRate)!==void 0?(0,t.jsx)(h.C,{variant:"secondary",children:0===v.taxRate?"Tax-Free":"".concat(v.taxRate,"% Tax")}):(0,t.jsx)(h.C,{variant:"secondary",children:"Tax-Free"})]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Accounting Framework"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:null==b?void 0:b.name})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-8",children:(0,t.jsx)(er.Z,{className:"h-4 w-4"})})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:null==b?void 0:b.organization}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[null==b?void 0:b.applicableStandards.length," applicable standards"]})]})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ee.Z,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Impact Metrics"}),(0,t.jsxs)(r.SZ,{className:"text-sm",children:[w.length," framework",w.length>1?"s":""," selected"]})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"h-8",children:(0,t.jsx)(er.Z,{className:"h-4 w-4"})})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-2 text-sm",children:w.map(e=>(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)(h.C,{variant:"outline",className:"capitalize",children:e.category}),e.certificationRequired&&(0,t.jsx)(h.C,{variant:"secondary",children:"Certification Required"})]},e.id))})})]})]}),p&&(0,t.jsxs)("div",{className:"space-y-4",children:[S?(0,t.jsxs)(R.bZ,{className:"border-green-600 bg-green-50 dark:bg-green-950",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{children:"Configuration Valid"}),(0,t.jsxs)(R.X,{children:["Your 4-component configuration is valid and ready to proceed.",p.configurationName&&(0,t.jsx)("div",{className:"mt-2 font-medium",children:p.configurationName})]})]}):(0,t.jsxs)(R.bZ,{variant:"destructive",children:[(0,t.jsx)(el.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Configuration Invalid"}),(0,t.jsx)(R.X,{children:"Please resolve the validation errors below before proceeding."})]}),C&&(0,t.jsxs)(R.bZ,{variant:"destructive",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Validation Errors"}),(0,t.jsx)(R.X,{children:(0,t.jsx)("ul",{className:"mt-2 space-y-1",children:null===(a=p.validationErrors)||void 0===a?void 0:a.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s))})})]}),Z&&(0,t.jsxs)(R.bZ,{variant:"warning",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Validation Warnings"}),(0,t.jsx)(R.X,{children:(0,t.jsx)("ul",{className:"mt-2 space-y-1",children:null===(l=p.validationWarnings)||void 0===l?void 0:l.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-0.5",children:"â€¢"}),(0,t.jsx)("span",{children:e})]},s))})})]}),p.configurationName&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsx)(r.ll,{className:"text-base",children:"Configuration Details"})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Configuration Name:"})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:p.configurationName})]}),p.createdAt&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Created:"})," ",(0,t.jsx)("span",{className:"text-muted-foreground",children:new Date(p.createdAt).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"})," ",S?(0,t.jsx)(h.C,{variant:"default",className:"ml-2",children:"Valid"}):(0,t.jsx)(h.C,{variant:"destructive",className:"ml-2",children:"Invalid"})]})]})})]})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"About Configuration Validation"}),(0,t.jsx)(R.X,{children:"The validation engine checks compatibility between your selected components. For example, Saudi Arabia (CMA) requires AAOIFI accounting standards. Some jurisdictions may not allow certain accounting frameworks. Validation ensures your configuration meets all regulatory requirements and compatibility constraints."})]}),k&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(c.z,{size:"lg",disabled:!S,className:"gap-2",children:["Continue to Configuration Details",(0,t.jsx)(ec.Z,{className:"h-4 w-4"})]})})]})}},{index:6,title:"Configure Details",component:function(){let e=(0,n.I)(e=>e.execution),[s,a]=(0,i.useState)({}),[l,d]=(0,i.useState)({}),[m,x]=(0,i.useState)(!0),[h,p]=(0,i.useState)([]),f=null==e?void 0:e.selectedShariahStructure,N=null==e?void 0:e.selectedJurisdiction,v=null==e?void 0:e.selectedAccounting,b=(null==e?void 0:e.selectedImpacts)||[],w=null==e?void 0:e.selectedTakaful,k=null==e?void 0:e.dealConfiguration,S=[...(null==f?void 0:f.baseFields)||[],...(null==N?void 0:N.additionalFields)||[],...(null==v?void 0:v.additionalFields)||[],...b.flatMap(e=>e.additionalFields||[]),...(null==w?void 0:w.enabled)&&w.additionalFields||[]],C={shariah:(null==f?void 0:f.baseFields)||[],jurisdiction:(null==N?void 0:N.additionalFields)||[],accounting:(null==v?void 0:v.additionalFields)||[],impact:b.flatMap(e=>e.additionalFields||[]),takaful:(null==w?void 0:w.enabled)&&w.additionalFields||[]},Z=(e,s)=>{a(a=>({...a,[e]:s})),l[e]&&d(s=>{let a={...s};return delete a[e],a})},_=e=>{let s=e.aiSuggestion;"select"===e.type&&e.options&&e.options.length>0?s=e.options[0]:e.placeholder&&(s=e.placeholder),a(a=>({...a,[e.id]:s}))},I=e=>{let s=e.target.files;if(s){let e=Array.from(s);p(s=>[...s,...e]),console.log("Files uploaded:",e.map(e=>e.name))}},F=e=>{p(s=>s.filter((s,a)=>a!==e))},A=()=>{let e={};return S.forEach(a=>{a.required&&!s[a.id]&&(e[a.id]="".concat(a.label," is required"))}),d(e),0===Object.keys(e).length},T=e=>{var a;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(M._,{htmlFor:e.id,children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:["text"===e.type||"number"===e.type||"date"===e.type?(0,t.jsx)(u.I,{id:e.id,type:e.type,placeholder:e.placeholder,value:s[e.id]||e.defaultValue||"",onChange:s=>Z(e.id,s.target.value),className:l[e.id]?"border-destructive":""}):"select"===e.type?(0,t.jsxs)(P.Ph,{value:s[e.id]||e.defaultValue,onValueChange:s=>Z(e.id,s),children:[(0,t.jsx)(P.i4,{className:l[e.id]?"border-destructive":"",children:(0,t.jsx)(P.ki,{placeholder:"Select..."})}),(0,t.jsx)(P.Bw,{children:null===(a=e.options)||void 0===a?void 0:a.map(e=>(0,t.jsx)(P.Ql,{value:e,children:e},e))})]}):null,m&&e.aiSuggestion&&(0,t.jsx)(c.z,{variant:"outline",size:"icon",title:e.aiSuggestion,onClick:()=>_(e),children:(0,t.jsx)(o.Z,{className:"h-4 w-4 text-primary"})})]}),m&&e.aiSuggestion&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(o.Z,{className:"h-3 w-3 text-primary"}),"AI: ",e.aiSuggestion]}),l[e.id]&&(0,t.jsxs)("p",{className:"text-xs text-destructive flex items-center gap-1",children:[(0,t.jsx)(ed.Z,{className:"h-3 w-3"}),l[e.id]]})]},e.id)};return k&&k.isValid?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Configure Your Deal Details"}),(0,t.jsxs)(R.X,{children:["Dynamic form composed from your selected components: ",null==f?void 0:f.name,","," ",null==N?void 0:N.name,", ",null==v?void 0:v.name,", ",b.map(e=>e.name).join(", "),". AI will suggest values based on industry standards and best practices."]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Selected Configuration"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:k.configurationName})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:null==f?void 0:f.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:null==N?void 0:N.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:null==v?void 0:v.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("span",{children:[b.length," Impact Framework",b.length>1?"s":""]})]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"AI Assistance"})]}),(0,t.jsx)(c.z,{variant:m?"default":"outline",size:"sm",onClick:()=>x(!m),children:m?"Enabled":"Disabled"})]}),C.shariah.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4"}),null==f?void 0:f.name," Details"]}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Structure-specific configuration fields"})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:C.shariah.map(e=>T(e))})]}),C.jurisdiction.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(X.Z,{className:"h-4 w-4"}),null==N?void 0:N.name," Requirements"]}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Jurisdiction-specific regulatory fields"})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:C.jurisdiction.map(e=>T(e))})]}),C.accounting.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4"}),null==v?void 0:v.name," Fields"]}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Accounting framework-specific requirements"})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:C.accounting.map(e=>T(e))})]}),C.impact.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(ee.Z,{className:"h-4 w-4"}),"Impact Metrics Configuration"]}),(0,t.jsxs)(r.SZ,{className:"text-sm",children:[b.length," framework",b.length>1?"s":""," - Impact metrics and ESG reporting fields"]})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:C.impact.map(e=>T(e))})]}),C.takaful.length>0&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Takaful Overlay Configuration"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Optional Takaful insurance fields"})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:C.takaful.map(e=>T(e))})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Applicable Compliance Standards"}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Automatically applied based on your component selections"})]}),(0,t.jsxs)(r.aY,{className:"space-y-2",children:[null==f?void 0:f.aaoifiStandards.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{children:[e," (Shariah Structure)"]})]},"shariah-".concat(s))),null==v?void 0:v.applicableStandards.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{children:[e," (Accounting)"]})]},"accounting-".concat(s))),b.map(e=>e.framework&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{children:[e.framework," (Impact Metrics)"]})]},e.id)),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Standards are embedded in your configuration and will be validated automatically"})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4"}),"Upload Supporting Documents"]}),(0,t.jsx)(r.SZ,{className:"text-sm",children:"Optional: Add financial statements, valuations, or other supporting documents"})]}),(0,t.jsxs)(r.aY,{className:"space-y-3",children:[0===h.length?(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[(0,t.jsx)(G.Z,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload financial statements, asset valuations, or other documents"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Supported formats: PDF, DOCX, XLSX (max 10MB each)"}),(0,t.jsx)("label",{htmlFor:"file-upload",children:(0,t.jsx)(c.z,{variant:"outline",asChild:!0,children:(0,t.jsx)("span",{children:"Select Files"})})}),(0,t.jsx)("input",{id:"file-upload",type:"file",multiple:!0,accept:".pdf,.docx,.xlsx,.xls",className:"hidden",onChange:I})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-2",children:h.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4 text-primary flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(e.size/1024).toFixed(1)," KB"]})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>F(s),className:"flex-shrink-0",children:(0,t.jsx)(eo.Z,{className:"h-4 w-4"})})]},s))}),(0,t.jsxs)("div",{className:"flex justify-center",children:[(0,t.jsx)("label",{htmlFor:"file-upload-more",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("span",{children:[(0,t.jsx)(G.Z,{className:"h-4 w-4 mr-2"}),"Add More Files"]})})}),(0,t.jsx)("input",{id:"file-upload-more",type:"file",multiple:!0,accept:".pdf,.docx,.xlsx,.xls",className:"hidden",onChange:I})]})]}),(0,t.jsxs)(R.bZ,{variant:"default",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.X,{children:"Documents are optional but recommended. AI-powered extraction is coming soon to automatically populate fields from uploaded documents."})]})]})]}),Object.keys(l).length>0&&(0,t.jsxs)(R.bZ,{variant:"destructive",children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Validation Errors"}),(0,t.jsxs)(R.X,{children:["Please fix ",Object.keys(l).length," error",Object.keys(l).length>1?"s":""," ","before proceeding to the next step."]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(c.z,{variant:"outline",size:"lg",children:"Save Draft"}),(0,t.jsx)(c.z,{onClick:()=>{A()?(console.log("Form validated successfully:",s),console.log("Configuration:",k)):console.log("Validation errors:",l)},size:"lg",children:"Validate & Continue"})]})]}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(R.bZ,{variant:"warning",children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Configuration Incomplete or Invalid"}),(0,t.jsx)(R.X,{children:"Please complete and validate your 4-component configuration in Step 6 before configuring details. All 4 components (Shariah Structure, Jurisdiction, Accounting, Impact Metrics) must be selected and validated."})]})})}},{index:7,title:"Review Policy Structure",component:function(){var e;let s=(0,n.I)(e=>e.execution),[a,l]=(0,i.useState)(null),[d,o]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null),[u,p]=(0,i.useState)([]),[j,f]=(0,i.useState)("main"),[N,v]=(0,i.useState)(null),[b,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{y()},[]);let y=async()=>{if(s)try{var e,a,t,i,n,r,c;o(!0),x(null),await new Promise(e=>setTimeout(e,1500));let d={policyId:"policy-".concat(Date.now()),policyName:"".concat((null===(e=s.selectedShariahStructure)||void 0===e?void 0:e.name)||"Islamic Finance"," Policy"),description:"Policy for ".concat((null===(a=s.selectedShariahStructure)||void 0===a?void 0:a.name)||"Islamic Finance"," workflow in ").concat((null===(t=s.selectedJurisdiction)||void 0===t?void 0:t.name)||"selected jurisdiction"),schemaCount:S(),policySteps:C(),requiredRoles:Z(),generatedFrom:{shariahStructure:(null===(i=s.selectedShariahStructure)||void 0===i?void 0:i.name)||"Unknown",jurisdiction:(null===(n=s.selectedJurisdiction)||void 0===n?void 0:n.name)||"Unknown",accounting:(null===(r=s.selectedAccounting)||void 0===r?void 0:r.name)||"Unknown",impact:(null===(c=s.selectedImpacts)||void 0===c?void 0:c.map(e=>e.name))||[]},estimatedExecutionTime:"~15-20 minutes",blockchainCost:"0.5 HBAR (~$0.03)"};l(d);let m=[],h=function(e){var s,a,t,i;let n=(null===(s=e.selectedShariahStructure)||void 0===s?void 0:s.name)||"Sukuk",r=[],l=[],c=0;r.push('    <startEvent id="start" name="Start Sukuk Issuance">\n      <outgoing>flow_'.concat(c,"</outgoing>\n    </startEvent>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="start" targetRef="identify_need" />')),c++,r.push('    <userTask id="identify_need" name="Identify Financing Need" camunda:assignee="Issuer">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="identify_need" targetRef="structure_design" />')),c++,r.push('    <userTask id="structure_design" name="Structure Design & Asset Selection" camunda:assignee="Lead Arranger">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="structure_design" targetRef="legal_docs" />')),c++,r.push('    <userTask id="legal_docs" name="Prepare Legal Documentation" camunda:assignee="Legal Advisor">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="legal_docs" targetRef="shariah_review" />')),c++,r.push('    <userTask id="shariah_review" name="Shariah Board Reviews Structure" camunda:assignee="Shariah Advisory Board">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="shariah_review" targetRef="shariah_gateway" />')),c++,r.push('    <exclusiveGateway id="shariah_gateway" name="Shariah Compliant?">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_shariah_approved</outgoing>\n      <outgoing>flow_shariah_rejected</outgoing>\n    </exclusiveGateway>")),r.push('    <userTask id="revise_structure" name="Revise Structure for Shariah Compliance" camunda:assignee="Lead Arranger">\n      <incoming>flow_shariah_rejected</incoming>\n      <outgoing>flow_revision_back</outgoing>\n    </userTask>'),l.push('    <sequenceFlow id="flow_shariah_rejected" name="Non-Compliant" sourceRef="shariah_gateway" targetRef="revise_structure" />'),l.push('    <sequenceFlow id="flow_revision_back" sourceRef="revise_structure" targetRef="shariah_review" />'),l.push('    <sequenceFlow id="flow_shariah_approved" name="Approved" sourceRef="shariah_gateway" targetRef="issue_fatwa" />'),r.push('    <serviceTask id="issue_fatwa" name="Issue Fatwa Certificate">\n      <incoming>flow_shariah_approved</incoming>\n      <outgoing>flow_'.concat(c,"</outgoing>\n    </serviceTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="issue_fatwa" targetRef="spo_review" />')),c++,r.push('    <userTask id="spo_review" name="SPO Independent Shariah Validation" camunda:assignee="SPO Provider">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="spo_review" targetRef="spo_report" />')),c++,r.push('    <serviceTask id="spo_report" name="Issue SPO Report">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>"));let d="spo_report";e.selectedImpacts&&e.selectedImpacts.length>0&&(l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="').concat(d,'" targetRef="green_spo_review" />')),c++,r.push('    <userTask id="green_spo_review" name="Green SPO Reviews Framework" camunda:assignee="ESG Consultant">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="green_spo_review" targetRef="green_certificate" />')),c++,r.push('    <serviceTask id="green_certificate" name="Issue Green Bond Certificate">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),d="green_certificate");let o=(null===(a=e.selectedJurisdiction)||void 0===a?void 0:a.name)||"Securities Commission",m=(null===(t=e.selectedJurisdiction)||void 0===t?void 0:t.id)==="saudi_cma"?"CMA Officer":(null===(i=e.selectedJurisdiction)||void 0===i?void 0:i.id)==="malaysia_sc"?"SC Malaysia Officer":"Regulatory Officer";return l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="').concat(d,'" targetRef="regulatory_filing" />')),c++,r.push('    <userTask id="regulatory_filing" name="'.concat(o,' Reviews Prospectus" camunda:assignee="').concat(m,'">\n      <incoming>flow_').concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="regulatory_filing" targetRef="regulatory_approval" />')),c++,r.push('    <serviceTask id="regulatory_approval" name="Issue Regulatory Approval">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="regulatory_approval" targetRef="roadshow" />')),c++,r.push('    <userTask id="roadshow" name="Investor Roadshow & Order Book" camunda:assignee="Lead Arranger">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="roadshow" targetRef="pricing_allocation" />')),c++,r.push('    <serviceTask id="pricing_allocation" name="Price Determination & Allocation">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="pricing_allocation" targetRef="spv_setup" />')),c++,r.push('    <userTask id="spv_setup" name="SPV Setup & Asset Transfer" camunda:assignee="Trustee">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </userTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="spv_setup" targetRef="issue_certificates" />')),c++,r.push('    <serviceTask id="issue_certificates" name="Issue Sukuk Certificates">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="issue_certificates" targetRef="settlement" />')),c++,r.push('    <serviceTask id="settlement" name="Settlement & Exchange Listing">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="settlement" targetRef="deploy_hedera" />')),c++,r.push('    <serviceTask id="deploy_hedera" name="Deploy Policy to Hedera">\n      <incoming>flow_'.concat(c-1,"</incoming>\n      <outgoing>flow_").concat(c,"</outgoing>\n    </serviceTask>")),r.push('    <endEvent id="end" name="Sukuk Active on Hedera">\n      <incoming>flow_'.concat(c,"</incoming>\n    </endEvent>")),l.push('    <sequenceFlow id="flow_'.concat(c,'" sourceRef="deploy_hedera" targetRef="end" />')),em("main_workflow","".concat(n," Issuance Workflow"),r.join("\n"),l.join("\n"))}(s);if(m.push({id:"main",name:"Main Workflow",description:"".concat(d.policyName," execution flow"),type:"main",bpmnXml:h}),s.selectedImpacts&&s.selectedImpacts.length>0){let e=function(e){var s,a,t,i;let n=[],r=[];return n.push('    <startEvent id="start" name="Start ESG Review">\n      <outgoing>flow_0</outgoing>\n    </startEvent>'),n.push('    <userTask id="collect_data" name="Collect ESG Data" camunda:assignee="ESG Consultant">\n      <incoming>flow_0</incoming>\n      <outgoing>flow_1</outgoing>\n    </userTask>'),r.push('    <sequenceFlow id="flow_0" sourceRef="start" targetRef="collect_data" />'),n.push('    <parallelGateway id="fork" name="Verify Each Metric">\n      <incoming>flow_1</incoming>\n      '.concat(null===(s=e.selectedImpacts)||void 0===s?void 0:s.map((e,s)=>"<outgoing>flow_fork_".concat(s,"</outgoing>")).join("\n      "),"\n    </parallelGateway>")),r.push('    <sequenceFlow id="flow_1" sourceRef="collect_data" targetRef="fork" />'),null===(a=e.selectedImpacts)||void 0===a||a.forEach((e,s)=>{n.push('    <userTask id="verify_'.concat(e.id,'" name="Verify ').concat(e.name,'" camunda:assignee="ESG Consultant">\n      <incoming>flow_fork_').concat(s,"</incoming>\n      <outgoing>flow_join_").concat(s,"</outgoing>\n    </userTask>")),r.push('    <sequenceFlow id="flow_fork_'.concat(s,'" sourceRef="fork" targetRef="verify_').concat(e.id,'" />'))}),n.push('    <parallelGateway id="join" name="">\n      '.concat(null===(t=e.selectedImpacts)||void 0===t?void 0:t.map((e,s)=>"<incoming>flow_join_".concat(s,"</incoming>")).join("\n      "),"\n      <outgoing>flow_2</outgoing>\n    </parallelGateway>")),null===(i=e.selectedImpacts)||void 0===i||i.forEach((e,s)=>{r.push('    <sequenceFlow id="flow_join_'.concat(s,'" sourceRef="verify_').concat(e.id,'" targetRef="join" />'))}),n.push('    <serviceTask id="generate_report" name="Generate ESG Report">\n      <incoming>flow_2</incoming>\n      <outgoing>flow_3</outgoing>\n    </serviceTask>'),r.push('    <sequenceFlow id="flow_2" sourceRef="join" targetRef="generate_report" />'),n.push('    <endEvent id="end" name="ESG Verified">\n      <incoming>flow_3</incoming>\n    </endEvent>'),r.push('    <sequenceFlow id="flow_3" sourceRef="generate_report" targetRef="end" />'),em("esg_consultant_workflow","ESG Consultant Workflow",n.join("\n"),r.join("\n"))}(s);m.push({id:"esg_verification",name:"ESG Verification",description:"Impact metrics verification sub-workflow",type:"sub",bpmnXml:e})}if(s.selectedAccounting){let e=function(e){var s,a,t;let i=(null===(s=e.selectedAccounting)||void 0===s?void 0:s.id)==="aaoifi"?"AAOIFI":(null===(a=e.selectedAccounting)||void 0===a?void 0:a.name)||"Financial",n=(null===(t=e.selectedAccounting)||void 0===t?void 0:t.id)==="aaoifi"?"AAOIFI Auditor":"External Auditor",r=[],l=[];return r.push('    <startEvent id="start" name="Start Audit">\n      <outgoing>flow_0</outgoing>\n    </startEvent>'),r.push('    <userTask id="request_docs" name="Request Financial Documents" camunda:assignee="Issuer">\n      <incoming>flow_0</incoming>\n      <outgoing>flow_1</outgoing>\n    </userTask>'),l.push('    <sequenceFlow id="flow_0" sourceRef="start" targetRef="request_docs" />'),r.push('    <userTask id="review_docs" name="Review Documents" camunda:assignee="'.concat(n,'">\n      <incoming>flow_1</incoming>\n      <outgoing>flow_2</outgoing>\n    </userTask>')),l.push('    <sequenceFlow id="flow_1" sourceRef="request_docs" targetRef="review_docs" />'),r.push('    <userTask id="field_work" name="Conduct Field Work" camunda:assignee="'.concat(n,'">\n      <incoming>flow_2</incoming>\n      <outgoing>flow_3</outgoing>\n    </userTask>')),l.push('    <sequenceFlow id="flow_2" sourceRef="review_docs" targetRef="field_work" />'),r.push('    <userTask id="test_controls" name="Test Internal Controls" camunda:assignee="'.concat(n,'">\n      <incoming>flow_3</incoming>\n      <outgoing>flow_4</outgoing>\n    </userTask>')),l.push('    <sequenceFlow id="flow_3" sourceRef="field_work" targetRef="test_controls" />'),r.push('    <exclusiveGateway id="findings_gateway" name="Issues Found?">\n      <incoming>flow_4</incoming>\n      <outgoing>flow_issues</outgoing>\n      <outgoing>flow_clean</outgoing>\n    </exclusiveGateway>'),l.push('    <sequenceFlow id="flow_4" sourceRef="test_controls" targetRef="findings_gateway" />'),r.push('    <userTask id="address_findings" name="Address Findings" camunda:assignee="Issuer">\n      <incoming>flow_issues</incoming>\n      <outgoing>flow_retest</outgoing>\n    </userTask>'),l.push('    <sequenceFlow id="flow_issues" name="Yes" sourceRef="findings_gateway" targetRef="address_findings" />'),l.push('    <sequenceFlow id="flow_retest" sourceRef="address_findings" targetRef="test_controls" />'),r.push('    <serviceTask id="issue_opinion" name="Issue Audit Opinion">\n      <incoming>flow_clean</incoming>\n      <outgoing>flow_5</outgoing>\n    </serviceTask>'),l.push('    <sequenceFlow id="flow_clean" name="No" sourceRef="findings_gateway" targetRef="issue_opinion" />'),r.push('    <endEvent id="end" name="Audit Complete">\n      <incoming>flow_5</incoming>\n    </endEvent>'),l.push('    <sequenceFlow id="flow_5" sourceRef="issue_opinion" targetRef="end" />'),em("audit_workflow","".concat(i," Audit Workflow"),r.join("\n"),l.join("\n"))}(s);m.push({id:"audit_process",name:"Audit Process",description:"".concat(s.selectedAccounting.name," audit sub-workflow"),type:"sub",bpmnXml:e})}p(m),o(!1)}catch(e){console.error("Failed to generate policy structure:",e),x("Failed to generate policy structure. Please try again."),o(!1)}},S=()=>{if(!s)return 0;let e=0;return s.selectedShariahStructure&&(e+=4),s.selectedJurisdiction&&(e+=3),s.selectedAccounting&&(e+=3),s.selectedImpacts&&(e+=2*s.selectedImpacts.length),e},C=()=>{var e;if(!s)return 0;let a=8;return s.isSecuritized&&(a+=2),(null===(e=s.selectedTakaful)||void 0===e?void 0:e.enabled)&&(a+=2),s.selectedImpacts&&s.selectedImpacts.length>0&&(a+=s.selectedImpacts.length),a},Z=()=>{var e,a,t;if(!s)return[];let i=new Set(["Issuer","Shariah Advisor"]);return(null===(e=s.selectedAccounting)||void 0===e?void 0:e.id)==="aaoifi"?i.add("AAOIFI Auditor"):i.add("External Auditor"),s.selectedImpacts&&s.selectedImpacts.length>0&&i.add("ESG Verifier"),(null===(a=s.selectedJurisdiction)||void 0===a?void 0:a.id)==="saudi_cma"&&i.add("CMA Compliance Officer"),(null===(t=s.selectedTakaful)||void 0===t?void 0:t.enabled)&&i.add("Takaful Provider"),Array.from(i)};return s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Review Workflow Structure"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Review the workflow visualization generated from your 4-component configuration"})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Workflow Visualization"}),(0,t.jsx)(R.X,{children:"This shows the BPMN workflow that will execute on Hedera Blockchain. Click on workflow steps to view details, roles, and data requirements."})]}),d&&(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(I.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generating workflow structure..."})]})})}),m&&(0,t.jsxs)(R.bZ,{variant:"destructive",children:[(0,t.jsx)(R.Cd,{children:"Error"}),(0,t.jsx)(R.X,{children:m})]}),!d&&a&&u.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(r.ll,{className:"text-base",children:"Policy Overview"}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:y,className:"h-8 w-8 p-0",children:(0,t.jsx)(eu.Z,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(r.aY,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Policy Name"}),(0,t.jsx)("p",{className:"font-medium",children:a.policyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Estimated Time"}),(0,t.jsx)("p",{children:a.estimatedExecutionTime})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{className:"pb-3",children:(0,t.jsx)(r.ll,{className:"text-base",children:"Workflow Components"})}),(0,t.jsxs)(r.aY,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:[a.schemaCount," Data Schemas"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eg.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:[a.policySteps," Workflow Steps"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:[a.requiredRoles.length," Required Roles"]})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{className:"pb-3",children:(0,t.jsx)(r.ll,{className:"text-base",children:"Configuration"})}),(0,t.jsxs)(r.aY,{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-xs",children:a.generatedFrom.shariahStructure})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-xs",children:a.generatedFrom.jurisdiction})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-xs",children:a.generatedFrom.accounting})]})]})]})]}),(0,t.jsx)(r.Zb,{className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"flex",style:{height:"700px"},children:[(0,t.jsxs)("div",{className:"w-[200px] border-r bg-muted/30 flex-shrink-0 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(ej.Z,{className:"h-4 w-4"}),"Workflows"]}),u.map(e=>(0,t.jsxs)("button",{onClick:()=>f(e.id),className:"\n                        w-full text-left px-3 py-2 rounded-md text-sm transition-colors\n                        ".concat(j===e.id?"bg-primary text-primary-foreground":"hover:bg-muted","\n                      "),children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs opacity-80 mt-0.5",children:e.description}),"sub"===e.type&&(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs mt-1",children:"Sub-workflow"})]},e.id))]}),(0,t.jsxs)("div",{className:"p-4 border-t",children:[(0,t.jsxs)("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(E.Z,{className:"h-3 w-3"}),"Required Roles"]}),(0,t.jsx)("div",{className:"space-y-1",children:a.requiredRoles.map((e,s)=>(0,t.jsx)(h.C,{variant:"outline",className:"text-xs block mb-1",children:e},s))})]})]}),(0,t.jsx)("div",{className:"flex-1 relative bg-white min-h-[600px]",children:(0,t.jsx)(eh,{xml:(null===(e=u.find(e=>e.id===j))||void 0===e?void 0:e.bpmnXml)||"",onElementClick:(e,s)=>{var a,t;console.log("BPMN element clicked:",e,s),v({id:e,name:(null===(a=s.businessObject)||void 0===a?void 0:a.name)||e,type:s.type,role:(null===(t=s.businessObject)||void 0===t?void 0:t["camunda:assignee"])||"System"}),w(!0)},height:"600px"})}),b&&N&&(0,t.jsx)("div",{className:"w-[300px] border-l bg-card flex-shrink-0 overflow-y-auto animate-in slide-in-from-right duration-200",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold",children:"Step Details"}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"h-8 w-8 p-0",children:(0,t.jsx)(eo.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Step Name"}),(0,t.jsx)("p",{className:"text-sm font-medium mt-1",children:N.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Step ID"}),(0,t.jsx)("p",{className:"text-xs font-mono mt-1",children:N.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Type"}),(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs mt-1",children:N.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Assigned Role"}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs mt-1",children:N.role})]}),(0,t.jsxs)("div",{className:"pt-3 border-t",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-xs",children:"bpmn:UserTask"===N.type?"Manual task requiring human action and approval.":"bpmn:ServiceTask"===N.type?"Automated task executed by the system.":"bpmn:ExclusiveGateway"===N.type?"Decision point that routes the workflow based on conditions.":"bpmn:ParallelGateway"===N.type?"Gateway that splits or joins parallel workflow paths.":"Workflow step in the process."})]}),(0,t.jsxs)("div",{className:"pt-3 border-t",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Phase 4B"}),(0,t.jsx)("p",{className:"text-xs",children:"Real Guardian integration will show:"}),(0,t.jsxs)("ul",{className:"text-xs space-y-1 mt-2 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Input data schemas"}),(0,t.jsx)("li",{children:"Output data schemas"}),(0,t.jsx)("li",{children:"Compliance checkpoints"}),(0,t.jsx)("li",{children:"Estimated duration"}),(0,t.jsx)("li",{children:"Cost estimation"})]})]})]})]})})]})}),(0,t.jsxs)(R.bZ,{variant:"default",className:"border-blue-600 bg-blue-50 dark:bg-blue-950",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(R.Cd,{className:"text-blue-900 dark:text-blue-100",children:"Ready for Test Run"}),(0,t.jsx)(R.X,{className:"text-blue-800 dark:text-blue-200",children:'Your workflow structure is ready. Click "Next Step" to run a test simulation in sandbox before deploying to Hedera Blockchain.'})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Execution not initialized"})})}},{index:8,title:"Test Workflow",component:function(){let[e,s]=(0,i.useState)("idle"),[a,n]=(0,i.useState)(-1),[d,m]=(0,i.useState)(eb.map(e=>({id:e.id,status:"pending",elapsedTime:0}))),[x,h]=(0,i.useState)(!1),u=d.filter(e=>"completed"===e.status).length,p=u/eb.length*100;(0,i.useEffect)(()=>{if("running"!==e)return;let t=eb[a];if(!t){s("completed");return}m(e=>e.map((e,s)=>s===a?{...e,status:"in_progress"}:e));let i=setTimeout(()=>{m(e=>e.map((e,s)=>s===a?{...e,status:"completed",elapsedTime:t.duration}:e)),n(e=>e+1)},t.duration);return()=>clearTimeout(i)},[e,a]);let N=e=>{switch(e){case"completed":return(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600"});case"in_progress":return(0,t.jsx)(eg.Z,{className:"h-5 w-5 text-blue-600 animate-pulse"});case"pending":return(0,t.jsx)(f.Z,{className:"h-5 w-5 text-muted-foreground"})}},v=e=>{switch(e){case"passed":return(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600"});case"warning":return(0,t.jsx)(ed.Z,{className:"h-5 w-5 text-yellow-600"});case"failed":return(0,t.jsx)(ed.Z,{className:"h-5 w-5 text-red-600"})}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Test Workflow"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Run a simulation to verify your workflow before launching on Hedera Blockchain"})]}),(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Sandbox Environment"}),(0,t.jsx)(R.X,{children:"This test runs in a sandbox - nothing is recorded on the Hedera Blockchain yet. Use this to catch issues before launch."})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Test Controls"}),(0,t.jsx)(r.SZ,{children:"Start, stop, or restart your workflow simulation"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:["idle"===e||"stopped"===e?(0,t.jsxs)(c.z,{onClick:()=>{s("running"),n(0),m(eb.map(e=>({id:e.id,status:"pending",elapsedTime:0})))},className:"gap-2",children:[(0,t.jsx)(ef.Z,{className:"h-4 w-4"}),"stopped"===e?"Resume Test Run":"Start Test Run"]}):null,"running"===e?(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>{s("stopped")},className:"gap-2",children:[(0,t.jsx)(eN.Z,{className:"h-4 w-4"}),"Stop Test"]}):null,("completed"===e||"stopped"===e)&&(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>{s("idle"),n(-1),m(eb.map(e=>({id:e.id,status:"pending",elapsedTime:0}))),h(!1)},className:"gap-2",children:[(0,t.jsx)(ev.Z,{className:"h-4 w-4"}),"Run Again"]}),(0,t.jsxs)(c.z,{variant:"ghost",onClick:()=>h(!x),className:"gap-2",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4"}),x?"Hide":"View"," Detailed Log"]})]}),"idle"!==e&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[u,"/",eb.length," steps (",Math.round(p),"%)"]})]}),(0,t.jsx)(l.E,{value:p})]})]})]}),"idle"!==e&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Test Progress"}),(0,t.jsx)(r.SZ,{children:"Real-time execution of workflow steps"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-3",children:eb.map((e,s)=>{let a=d[s];return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg transition-colors ".concat("in_progress"===a.status?"bg-blue-50 dark:bg-blue-950":"completed"===a.status?"bg-muted/50":""),children:[N(a.status),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"font-medium text-sm",children:["Step ",e.id,": ",e.name]})}),"completed"===a.status&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["(",(a.elapsedTime/1e3).toFixed(1),"s)"]}),"in_progress"===a.status&&(0,t.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:"Running..."})]},e.id)})})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Live Validation"}),(0,t.jsx)(r.SZ,{children:"AAOIFI/IIFM compliance checks and AI-detected issues"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:ew.map(e=>(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[v(e.status),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.message}),e.aiSuggestion&&(0,t.jsxs)("div",{className:"mt-2 flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[(0,t.jsx)("span",{className:"font-medium",children:"AI Suggestion:"})," ",e.aiSuggestion]})]})]})]})},e.id))})})]}),x&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Detailed Test Log"}),(0,t.jsx)(r.SZ,{children:"Complete execution trace with timestamps"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg font-mono text-xs space-y-1 max-h-80 overflow-y-auto",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:"[00:00:00] Test run initialized"}),(0,t.jsx)("div",{className:"text-muted-foreground",children:"[00:00:00] Loading workflow configuration..."}),(0,t.jsx)("div",{className:"text-muted-foreground",children:"[00:00:01] Configuration loaded successfully"}),d.map((e,s)=>{if("pending"===e.status)return null;let a=eb[s],i=d.slice(0,s+1).reduce((e,s)=>e+s.elapsedTime,0)/1e3;return(0,t.jsxs)("div",{children:["in_progress"===e.status&&(0,t.jsxs)("div",{className:"text-blue-600",children:["[",i.toFixed(2),"s] Executing: ",a.name,"..."]}),"completed"===e.status&&(0,t.jsxs)("div",{className:"text-green-600",children:["[",i.toFixed(2),"s] âœ“ Completed: ",a.name]})]},e.id)}),"completed"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-green-600 font-bold",children:["[",(d.reduce((e,s)=>e+s.elapsedTime,0)/1e3).toFixed(2),"s] âœ“ Test run completed successfully"]}),(0,t.jsxs)("div",{className:"text-muted-foreground",children:["[",(d.reduce((e,s)=>e+s.elapsedTime,0)/1e3+.5).toFixed(2),"s] Ready for launch"]})]})]})})]}),"completed"===e&&(0,t.jsxs)(R.bZ,{variant:"default",className:"border-green-600",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{children:"Test Run Completed Successfully"}),(0,t.jsx)(R.X,{children:"Your workflow passed all validation checks. You can now proceed to validate compliance and launch on Hedera Blockchain."})]})]})}},{index:9,title:"Live Execution",component:function(){var e,s,a,d;let o=(0,n.I)(e=>e.execution),m=null==o?void 0:o.dealConfiguration,[x,u]=(0,i.useState)(!1),[p,f]=(0,i.useState)([]),[N,v]=(0,i.useState)(0),[b,w]=(0,i.useState)(!1),[y,S]=(0,i.useState)(null),[C,Z]=(0,i.useState)(null),[A,T]=(0,i.useState)([{role:"Issuer",name:"ABC Islamic Bank",email:"issuer@abcbank.com",status:"invited"},{role:"Shariah Advisor",name:"Dr. Ahmed Al-Mansouri",email:"ahmed@shariahboard.com",status:"invited"},{role:"Auditor",name:"XYZ Audit Firm",email:"audit@xyzaudit.com",status:"invited"},{role:"Trustee",name:"DEF Trust Services",email:"trustee@deftrust.com",status:"invited"}]),[M,P]=(0,i.useState)(null),[D,O]=(0,i.useState)(!1),[q,B]=(0,i.useState)(!1),[z,G]=(0,i.useState)(null),[Y,L]=(0,i.useState)(null),V=()=>{let e="".concat(Date.now().toString().slice(0,10),".").concat(Math.floor(1e6*Math.random()));return"".concat("0.0.".concat(Math.floor(1e5+9e5*Math.random())),"@").concat(e)},X=()=>{let e=Array(40).fill(0).map(()=>Math.floor(16*Math.random()).toString(16)).join("");return"did:hedera:testnet:".concat(e,"_").concat("0.0.".concat(Math.floor(1e5+9e5*Math.random())))},W=(e,s)=>{navigator.clipboard.writeText(e),P(s),setTimeout(()=>P(null),2e3)},H=async()=>{if(!m){console.error("[Step10] Cannot create deal: dealConfiguration is missing");return}B(!0),G(null);try{var e,s,a,t,i;let r={deal_name:m.deal_name||m.configurationName||"Unnamed Deal",shariah_structure:m.shariah_structure||(null===(e=m.shariahStructure)||void 0===e?void 0:e.id)||"",jurisdiction:m.jurisdiction||(null===(s=m.jurisdiction)||void 0===s?void 0:s.id)||"",accounting_standard:m.accounting_standard||(null===(a=m.accounting)||void 0===a?void 0:a.id)||"",impact_framework:m.impact_framework||(null===(i=m.impacts)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.id)||"",deal_amount:m.deal_amount,currency:m.currency,originator:m.originator,guardian_policy_id:y||void 0,guardian_transaction_id:C||void 0},l=await F.F.createDeal(r);if(null==l?void 0:l.deal_id)L(l.deal_id),n.I.setState(e=>({execution:e.execution?{...e.execution,dealId:l.deal_id}:null})),console.log("[Step10] Deal created successfully:",l.deal_id);else throw Error("Deal creation response missing deal_id")}catch(e){console.error("[Step10] Failed to create deal:",e),G(e instanceof Error?e.message:"Failed to create deal")}finally{B(!1)}},U=async()=>{if(!m)return;u(!0),O(!1),v(0);let e=[{id:"generate",title:"Generate Guardian Policy",description:"Composing policy from 4-component configuration",status:"pending"},{id:"validate",title:"Validate Policy Structure",description:"Checking BPMN workflow and schemas",status:"pending"},{id:"publish_ipfs",title:"Publish to IPFS",description:"Storing policy document immutably",status:"pending"},{id:"publish_blockchain",title:"Publish to Hedera Blockchain",description:"Recording policy on Hedera Consensus Service",status:"pending"},{id:"create_topic",title:"Create Workflow Topic",description:"Establishing Hedera HCS topic for workflow messages",status:"pending"},{id:"assign_roles",title:"Assign Participant Roles",description:"Issuing verifiable credentials to participants",status:"pending"}];f(e);for(let s=0;s<e.length;s++){let a,t;v(s),f(e=>e.map((e,a)=>a===s?{...e,status:"in_progress"}:e)),await new Promise(e=>setTimeout(e,2e3+1e3*Math.random())),"publish_blockchain"===e[s].id?(a=V(),t="https://hashscan.io/testnet/transaction/".concat(a),S("policy_".concat(Date.now(),"_").concat(Math.floor(1e4*Math.random())))):"create_topic"===e[s].id&&(a=V(),t="https://hashscan.io/testnet/topic/".concat(a.split("@")[0]),Z(a.split("@")[0])),f(e=>e.map((e,i)=>i===s?{...e,status:"completed",transactionId:a,hashScanUrl:t,duration:2+Math.random()}:e)),"assign_roles"===e[s].id&&T(e=>e.map(e=>({...e,did:X(),status:"onboarded"})))}u(!1),w(!0),await H()},J=(e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-muted/30 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 mt-1",children:["completed"===e.status&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),"in_progress"===e.status&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:(0,t.jsx)(I.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-spin"})}),"pending"===e.status&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(eg.Z,{className:"h-5 w-5 text-muted-foreground"})}),"error"===e.status&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center",children:(0,t.jsx)(ed.Z,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium",children:[s+1,". ",e.title]}),"completed"===e.status&&e.duration&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.duration.toFixed(1),"s"]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),e.transactionId&&(0,t.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-background rounded-md",children:[(0,t.jsx)("code",{className:"text-xs font-mono flex-1 truncate",children:e.transactionId}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>W(e.transactionId,e.id),children:M===e.id?(0,t.jsx)(ek.Z,{className:"h-3 w-3"}):(0,t.jsx)(eS.Z,{className:"h-3 w-3"})})]}),e.hashScanUrl&&(0,t.jsxs)(c.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(e.hashScanUrl,"_blank"),children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Verify on HashScan"]})]})]})]},e.id);return m&&m.isValid?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(R.bZ,{variant:"info",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Deploy to Hedera Blockchain"}),(0,t.jsx)(R.X,{children:"Your validated workflow will be deployed as an immutable Guardian policy on Hedera Blockchain. All participant actions will be recorded permanently with cryptographic verification."})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5"}),"Deployment Configuration"]}),(0,t.jsx)(r.SZ,{children:"Policy generated from your 4-component modular configuration"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Shariah Structure"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:(null===(e=o.selectedShariahStructure)||void 0===e?void 0:e.name)||"Not selected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Jurisdiction"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:(null===(s=o.selectedJurisdiction)||void 0===s?void 0:s.name)||"Not selected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Accounting Framework"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:(null===(a=o.selectedAccounting)||void 0===a?void 0:a.name)||"Not selected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Impact Metrics"}),(0,t.jsxs)("p",{className:"text-sm font-semibold",children:[(null===(d=o.selectedImpacts)||void 0===d?void 0:d.length)||0," framework(s) selected"]})]})]}),(0,t.jsx)(ey.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Configuration Name"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m.configurationName})]}),m.derivedFields&&Object.keys(m.derivedFields).length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ey.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Derived Configuration Fields"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:Object.entries(m.derivedFields).slice(0,4).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[s,":"]})," ",String(a)]},s)})})]})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Z,{className:"h-5 w-5"}),"Workflow Participants"]}),(0,t.jsx)(r.SZ,{children:"Email invites will be sent for DID onboarding after deployment"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-3",children:A.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)(h.C,{variant:"outline",className:"text-xs",children:e.role})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.email}),e.did&&(0,t.jsx)("code",{className:"text-xs text-muted-foreground mt-1 block truncate max-w-md",children:e.did})]}),(0,t.jsx)(h.C,{variant:"active"===e.status?"default":"onboarded"===e.status?"secondary":"outline",children:e.status})]},s))})})]}),!D&&!x&&!b&&(0,t.jsxs)(r.Zb,{className:"border-primary",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Ready to Deploy"}),(0,t.jsx)(r.SZ,{children:"This action will deploy your workflow to Hedera Blockchain (testnet)"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)(R.bZ,{children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Important: Blockchain Deployment"}),(0,t.jsxs)(R.X,{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["Once deployed to Hedera Blockchain, the policy becomes ",(0,t.jsx)("strong",{children:"immutable"}),". All workflow executions and participant signatures will be permanently recorded."]}),(0,t.jsxs)("ul",{className:"list-disc list-inside text-sm mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"Policy structure cannot be modified after deployment"}),(0,t.jsx)("li",{children:"All transactions are publicly verifiable on HashScan"}),(0,t.jsx)("li",{children:"Estimated cost: ~$0.50 USD (testnet = free)"}),(0,t.jsx)("li",{children:"Participants will receive email invites for DID onboarding"})]})]})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsxs)(c.z,{size:"lg",onClick:()=>O(!0),className:"flex-1",children:[(0,t.jsx)(eC.Z,{className:"h-4 w-4 mr-2"}),"Deploy to Blockchain"]})})]})]}),D&&!x&&(0,t.jsxs)(r.Zb,{className:"border-2 border-primary",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Confirm Blockchain Deployment"}),(0,t.jsx)(r.SZ,{children:"Please confirm you understand this action is permanent and immutable"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"confirm1",className:"mt-1",required:!0}),(0,t.jsx)("label",{htmlFor:"confirm1",className:"text-sm",children:"I understand this policy will be immutably recorded on Hedera Blockchain"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"confirm2",className:"mt-1",required:!0}),(0,t.jsx)("label",{htmlFor:"confirm2",className:"text-sm",children:"I confirm all participant roles and configuration are correct"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"confirm3",className:"mt-1",required:!0}),(0,t.jsx)("label",{htmlFor:"confirm3",className:"text-sm",children:"I understand this is a testnet deployment (not production)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Cancel"}),(0,t.jsxs)(c.z,{onClick:U,className:"flex-1",disabled:!m.isValid,children:[(0,t.jsx)(eC.Z,{className:"h-4 w-4 mr-2"}),"Confirm & Deploy"]})]})]})]}),x&&(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"h-5 w-5 animate-spin"}),"Deploying to Hedera Blockchain"]}),(0,t.jsxs)(r.SZ,{children:["Phase ",N+1," of ",p.length]})]}),(0,t.jsxs)(r.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.E,{value:(N+1)/p.length*100,className:"h-2"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:[Math.round((N+1)/p.length*100),"% Complete"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:p.map((e,s)=>J(e,s))})]})]}),b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(R.bZ,{variant:"default",className:"border-green-500",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Deployment Successful!"}),(0,t.jsx)(R.X,{children:"Your workflow has been deployed to Hedera Blockchain. All participant invites have been sent."})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(eZ.Z,{className:"h-5 w-5"}),"Deal Lifecycle Record"]}),(0,t.jsx)(r.SZ,{children:"Creating deal record for lifecycle management"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[q&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)(I.Z,{className:"h-5 w-5 animate-spin text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Creating deal record in backend system..."})]}),!q&&Y&&(0,t.jsxs)(R.bZ,{className:"bg-green-50 border-green-200",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(R.Cd,{className:"text-green-900",children:"Deal Created Successfully"}),(0,t.jsxs)(R.X,{className:"text-green-700",children:[(0,t.jsx)("p",{className:"mb-2",children:"Your deal has been registered for lifecycle management and compliance tracking."}),(0,t.jsxs)("div",{className:"mt-2 font-mono text-sm bg-white/50 p-2 rounded",children:["Deal ID: ",(0,t.jsx)("span",{className:"font-semibold",children:Y})]})]})]}),!q&&z&&(0,t.jsxs)(R.bZ,{variant:"destructive",children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Deal Creation Failed"}),(0,t.jsxs)(R.X,{children:[(0,t.jsxs)("p",{className:"mb-2",children:["Failed to create deal record: ",z]}),(0,t.jsx)("p",{className:"text-xs mt-2",children:"Don't worry - your blockchain deployment was successful. You can manually create the deal record from the dashboard or contact support."})]})]}),!q&&!Y&&!z&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)(eg.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Waiting for deal creation..."})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(e_.Z,{className:"h-5 w-5"}),"Blockchain Verification"]}),(0,t.jsx)(r.SZ,{children:"Verify your deployment on Hedera HashScan"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[y&&(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Policy ID"}),(0,t.jsx)("code",{className:"text-xs",children:y})]}),C&&(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Workflow Topic (HCS)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"text-xs flex-1",children:C}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>window.open("https://hashscan.io/testnet/topic/".concat(C),"_blank"),children:(0,t.jsx)(_.Z,{className:"h-4 w-4"})})]})]})]}),(0,t.jsx)(ey.Z,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Deployment Timeline"}),p.filter(e=>e.transactionId).map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.title}),(0,t.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:()=>window.open(e.hashScanUrl,"_blank"),children:[(0,t.jsxs)("code",{className:"text-xs mr-2",children:[null===(a=e.transactionId)||void 0===a?void 0:a.slice(0,20),"..."]}),(0,t.jsx)(_.Z,{className:"h-3 w-3"})]})]},s)})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsx)(r.Ol,{children:(0,t.jsx)(r.ll,{children:"Next Steps"})}),(0,t.jsxs)(r.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Monitor Participant Onboarding"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Email invites sent. Participants will receive DID onboarding instructions. Track status in the participants section above."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Begin Workflow Execution"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Once all participants are onboarded, the workflow will begin automatically. Each step requires cryptographic signatures from assigned roles."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Monitor Progress"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Track workflow progress in real-time. All actions are recorded on blockchain and visible on HashScan."})]})]})]})]})]})]}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(R.bZ,{variant:"warning",children:[(0,t.jsx)(ed.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Configuration Required"}),(0,t.jsx)(R.X,{children:"Please complete and validate your 4-component configuration in previous steps before deploying to Hedera Blockchain."})]})})}},{index:10,title:"Monitor & Collaborate",component:function(){let e=(0,eI.useRouter)(),s=(0,n.I)(e=>e.execution),a=null==s?void 0:s.dealId,i=[{title:"Dashboard",description:"View all active deals and monitor platform-wide compliance metrics across all 4 components.",icon:eF.Z,path:"/dashboard",badge:"Recommended",available:!0},{title:"Deal Detail",description:"Track this specific deal's compliance progress with component breakdowns and activity timeline.",icon:z.Z,path:a?"/deals/".concat(a):"/dashboard",available:!0},{title:"Contracts (AI)",description:"Collaborate on AI-powered contract generation for this deal with real-time document editing.",icon:z.Z,path:a?"/contracts/".concat(a):"/dashboard",badge:"Phase 3",available:!1},{title:"Reviews",description:"Manage Shariah board reviews, approvals, and audit documentation for compliance verification.",icon:k.Z,path:a?"/reviews/".concat(a):"/dashboard",badge:"Phase 4",available:!1}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(R.bZ,{className:"bg-green-50 border-green-200",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)(R.Cd,{className:"text-green-900",children:"Deal Successfully Created"}),(0,t.jsxs)(R.X,{className:"text-green-700",children:["Your workflow configuration has been deployed to Hedera Guardian and a new deal has been created for lifecycle management.",a&&(0,t.jsxs)("div",{className:"mt-2 font-mono text-sm",children:["Deal ID: ",(0,t.jsx)("span",{className:"font-semibold",children:a})]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-blue-600"}),"What's Next?"]}),(0,t.jsx)(r.SZ,{children:"You've completed the 10-step workflow and deployed your Islamic finance structure to the blockchain. Now you can monitor compliance, collaborate on contracts, and manage the deal lifecycle."})]}),(0,t.jsx)(r.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("p",{className:"mb-2",children:"Choose your next action:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Dashboard:"})," Get a bird's-eye view of all deals and compliance"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Deal Detail:"})," Deep dive into this specific deal's progress"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Contracts:"})," Generate and collaborate on legal documents (Coming in Phase 3)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Reviews:"})," Manage Shariah board reviews and approvals (Coming in Phase 4)"]})]})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>{let a=s.icon;return(0,t.jsxs)(r.Zb,{className:"relative transition-all ".concat(s.available?"hover:shadow-lg hover:border-primary cursor-pointer":"opacity-60 cursor-not-allowed"),children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(s.available?"bg-primary/10":"bg-gray-100"),children:(0,t.jsx)(a,{className:"h-5 w-5 ".concat(s.available?"text-primary":"text-gray-400")})}),(0,t.jsx)(r.ll,{className:"text-lg",children:s.title})]}),s.badge&&(0,t.jsx)(h.C,{variant:"Recommended"===s.badge?"default":"secondary",children:s.badge})]}),(0,t.jsx)(r.SZ,{className:"mt-2",children:s.description})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)(c.z,{className:"w-full",variant:s.available?"default":"outline",disabled:!s.available,onClick:()=>{s.available&&e.push(s.path)},children:s.available?(0,t.jsxs)(t.Fragment,{children:["Go to ",s.title,(0,t.jsx)(ec.Z,{className:"ml-2 h-4 w-4"})]}):(0,t.jsx)(t.Fragment,{children:"Coming Soon"})})})]},s.title)})}),(0,t.jsxs)(R.bZ,{children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(R.Cd,{children:"Lifecycle Management Integration"}),(0,t.jsx)(R.X,{children:"This workflow has created a deal that connects to the compliance dashboard. You can return to the dashboard at any time to monitor progress, update deal status, or access lifecycle features."})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-between pt-4",children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>e.push("/workflow"),children:"Start New Workflow"}),(0,t.jsxs)(c.z,{onClick:()=>e.push("/dashboard"),children:["Go to Dashboard",(0,t.jsx)(ec.Z,{className:"ml-2 h-4 w-4"})]})]})]})}}];function eR(){let e=(0,n.I)(e=>e.execution),s=(0,n.I)(e=>e.initializeExecution),a=(0,n.I)(e=>e.nextStep),h=(0,n.I)(e=>e.previousStep),u=(0,n.I)(e=>e.loadDemoConfiguration),p=(0,i.useRef)(null),[g,j]=(0,i.useState)(!1),[f,N]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{e||s("user_123")},[]),(0,i.useEffect)(()=>{let e=p.current;if(!e)return;let s=()=>{let{scrollLeft:s,scrollWidth:a,clientWidth:t}=e;j(s>0),N(s<a-t-1)};return s(),e.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{e.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[e]),!e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Initializing workflow..."})});let v=eA[e.currentStepIndex],b=v.component,w=(e.currentStepIndex+1)/eA.length*100,y=e.currentStepIndex>0,k=(()=>{if(e.currentStepIndex>=eA.length-1)return!1;switch(e.currentStepIndex){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!0;case 9:return!1}})();return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("div",{className:"border-b bg-card",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"ZeroH"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Sustainable Islamic Finance governance, monitoring and risk management system"})]}),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:u,className:"shrink-0",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Load QIIB Oryx Demo"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Step ",e.currentStepIndex+1," of ",eA.length,":"," ",v.title]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(w),"% Complete"]})]}),(0,t.jsx)(l.E,{value:w})]}),(0,t.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{p.current&&p.current.scrollBy({left:-200,behavior:"smooth"})},disabled:!g,className:"flex-shrink-0 p-1 rounded-md border bg-background transition-all ".concat(g?"hover:bg-accent cursor-pointer opacity-100":"opacity-30 cursor-not-allowed"),"aria-label":"Scroll left",children:(0,t.jsx)(m.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(d.x,{className:"flex-1 whitespace-nowrap",children:[(0,t.jsx)("div",{ref:p,className:"flex gap-2 pb-2",children:eA.map(s=>{let a=s.index<e.currentStepIndex,i=s.index===e.currentStepIndex;return s.index,e.currentStepIndex,(0,t.jsxs)("button",{onClick:()=>{n.I.setState(e=>({execution:e.execution?{...e.execution,currentStepIndex:s.index}:null}))},disabled:!1,className:"\n                          flex-shrink-0 px-3 py-2 rounded-md text-xs font-medium transition-colors cursor-pointer\n                          ".concat(i?"bg-primary text-primary-foreground":a?"bg-secondary text-secondary-foreground hover:bg-secondary/80":"bg-muted text-muted-foreground hover:bg-muted/80","\n                        "),children:[s.index+1,". ",s.title]},s.index)})}),(0,t.jsx)(d.B,{orientation:"horizontal"})]}),(0,t.jsx)("button",{onClick:()=>{p.current&&p.current.scrollBy({left:200,behavior:"smooth"})},disabled:!f,className:"flex-shrink-0 p-1 rounded-md border bg-background transition-all ".concat(f?"hover:bg-accent cursor-pointer opacity-100":"opacity-30 cursor-not-allowed"),"aria-label":"Scroll right",children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})})]})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"p-6",children:(0,t.jsx)(b,{})})}),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsxs)(c.z,{variant:"outline",onClick:h,disabled:!y,children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Previous Step"]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)(c.z,{onClick:a,disabled:!k,children:["Next Step",(0,t.jsx)(x.Z,{className:"h-4 w-4 ml-2"})]}),!k&&e.currentStepIndex<eA.length-1&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1"})]})]})]})]})}}},function(e){e.O(0,[475,569,110,333,141,355,605,659,4,158,804,321,498,971,117,744],function(){return e(e.s=9286)}),_N_E=e.O()}]);
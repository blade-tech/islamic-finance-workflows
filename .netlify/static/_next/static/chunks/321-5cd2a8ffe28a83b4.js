"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{5937:function(e,i,a){a.d(i,{Cd:function(){return c},X:function(){return u},bZ:function(){return l}});var t=a(7437),n=a(2265),r=a(535),o=a(3448);let s=(0,r.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 text-yellow-900 dark:text-yellow-500 [&>svg]:text-yellow-900 dark:[&>svg]:text-yellow-500 bg-yellow-50 dark:bg-yellow-950/30",info:"border-blue-500/50 text-blue-900 dark:text-blue-500 [&>svg]:text-blue-900 dark:[&>svg]:text-blue-500 bg-blue-50 dark:bg-blue-950/30"}},defaultVariants:{variant:"default"}}),l=n.forwardRef((e,i)=>{let{className:a,variant:n,...r}=e;return(0,t.jsx)("div",{ref:i,role:"alert",className:(0,o.cn)(s({variant:n}),a),...r})});l.displayName="Alert";let c=n.forwardRef((e,i)=>{let{className:a,...n}=e;return(0,t.jsx)("h5",{ref:i,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",a),...n})});c.displayName="AlertTitle";let u=n.forwardRef((e,i)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:i,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",a),...n})});u.displayName="AlertDescription"},9174:function(e,i,a){a.d(i,{C:function(){return l}});var t=a(7437),n=a(2265),r=a(535),o=a(3448);let s=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),l=n.forwardRef((e,i)=>{let{className:a,variant:n,...r}=e;return(0,t.jsx)("div",{ref:i,className:(0,o.cn)(s({variant:n}),a),...r})});l.displayName="Badge"},6936:function(e,i,a){a.d(i,{eu:function(){return o},gN:function(){return t},yK:function(){return n},yk:function(){return r}});let t={id:"aaoifi",name:"AAOIFI Standards",description:"Accounting and Auditing Organization for Islamic Financial Institutions (AAOIFI) standards - the global benchmark for Islamic finance accounting.",organization:"Accounting and Auditing Organization for Islamic Financial Institutions",applicableStandards:["FAS 1 - General Presentation and Disclosure in the Financial Statements of Islamic Banks","FAS 33 - Investment Sukuk","FAS 34 - Financial Reporting for Sukuk-Holders","Shariah Standard 17 - Investment Sukuk","Shariah Standard 62 - Sukuk","Governance Standard 7 - Corporate Social Responsibility"],reportingRequirements:["Annual audited financial statements (AAOIFI-compliant)","Shariah Supervisory Board Report","Statement of Sources and Uses of Zakat and Charity Funds","Statement of Changes in Restricted Investments","Quarterly financial reports","Sukuk-specific disclosures per FAS 33"],additionalFields:[{id:"shariah_board_composition",label:"Shariah Supervisory Board Composition",type:"text",placeholder:"List of board members",aiSuggestion:"AAOIFI requires min. 3 qualified Shariah scholars",required:!0},{id:"aaoifi_audit_firm",label:"AAOIFI-Certified Audit Firm",type:"text",placeholder:"Audit firm name",aiSuggestion:"Must have AAOIFI Certified Islamic Public Accountants (CIPA)",required:!0},{id:"zakat_calculation_method",label:"Zakat Calculation Method",type:"select",options:["Net Assets Method","Net Invested Funds Method","Other AAOIFI-Approved Method"],aiSuggestion:"Net Assets Method (most common)",required:!1}],compatibleJurisdictions:["saudi_cma","uae_dfsa","qatar_qfc","malaysia_sc","luxembourg"],websiteUrl:"https://aaoifi.com",icon:"BookOpen",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=[t,{id:"ifrs_islamic",name:"IFRS + Islamic Adaptations",description:"International Financial Reporting Standards (IFRS) adapted for Islamic finance principles. Used when AAOIFI is not mandated.",organization:"IFRS Foundation (with Islamic finance adaptations)",applicableStandards:["IFRS 9 - Financial Instruments (adapted for Islamic finance)","IFRS 15 - Revenue from Contracts with Customers","IFRS 16 - Leases (adapted for Ijara)","IAS 1 - Presentation of Financial Statements","IAS 32 - Financial Instruments: Presentation","Islamic Finance Disclosure Requirements"],reportingRequirements:["Annual audited financial statements (IFRS-compliant)","Shariah compliance certificate","Islamic finance-specific disclosures","Quarterly financial reports","Management discussion and analysis (MD&A)"],additionalFields:[{id:"ifrs_version",label:"IFRS Version",type:"select",options:["IFRS 2023","IFRS 2024","Latest"],aiSuggestion:"Latest version for new issuances",required:!0},{id:"islamic_adaptations",label:"Islamic Finance Adaptations Applied",type:"text",placeholder:"List key adaptations (e.g., riba-free discounting)",aiSuggestion:"Document deviations from standard IFRS for Islamic compliance",required:!0},{id:"audit_firm",label:"Big 4 Audit Firm (Islamic Finance Practice)",type:"select",options:["PwC Islamic Finance","Deloitte Islamic Finance","EY Islamic Finance","KPMG Islamic Finance","Other"],aiSuggestion:"PwC Islamic Finance (largest Islamic finance audit practice)",required:!0}],compatibleJurisdictions:["uae_dfsa","saudi_cma","qatar_qfc","malaysia_sc","luxembourg"],websiteUrl:"https://www.ifrs.org",icon:"Globe",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"local_gaap",name:"Local GAAP (Islamic-Compliant)",description:"Country-specific Generally Accepted Accounting Principles adapted for Islamic finance. Used for domestic issuances.",organization:"Local regulatory authorities",applicableStandards:["Country-specific accounting standards","Local Islamic finance regulations","Central bank guidelines","Securities commission rules"],reportingRequirements:["Annual audited financial statements (local GAAP)","Compliance with local Shariah board requirements","Periodic regulatory filings","Local language financial reports"],additionalFields:[{id:"country",label:"Country/Jurisdiction",type:"select",options:["Malaysia","Indonesia","Pakistan","Turkey","Egypt","Other"],aiSuggestion:"Select country for specific GAAP requirements",required:!0},{id:"local_standards",label:"Specific Local Standards",type:"text",placeholder:"e.g., MFRS (Malaysia), PSAK (Indonesia)",aiSuggestion:"Document applicable local accounting standards",required:!0},{id:"local_shariah_authority",label:"Local Shariah Authority",type:"text",placeholder:"Name of local Shariah authority",aiSuggestion:"e.g., SAC Malaysia, Indonesian National Shariah Board",required:!0}],compatibleJurisdictions:["malaysia_sc","uae_dfsa","luxembourg"],compatibleStructures:void 0,websiteUrl:void 0,icon:"Map",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function r(e){return n.filter(i=>i.compatibleJurisdictions.includes(e))}function o(e){if("saudi_cma"===e)return t}},4452:function(e,i,a){a.d(i,{BZ:function(){return c},Ge:function(){return o},fc:function(){return l}});let t={id:"green_sukuk",name:"Green Sukuk (ICMA GBP)",category:"environmental",description:"Sukuk aligned with ICMA Green Bond Principles. Proceeds used exclusively for environmentally beneficial projects.",framework:"International Capital Market Association (ICMA) Green Bond Principles",reportingRequirements:["Annual Green Bond Impact Report","Use of proceeds tracking and disclosure","Environmental impact metrics (CO2 reduction, energy saved, etc.)","Third-party verification of green credentials","Alignment with EU Taxonomy (if applicable)"],certificationRequired:!0,certifiers:["Second-party opinion providers (e.g., Sustainalytics, Vigeo Eiris)","Climate Bonds Initiative (CBI) certification","ICMA Green Bond Principles verification"],additionalFields:[{id:"green_project_category",label:"Green Project Category",type:"select",options:["Renewable Energy (Solar, Wind, Hydro)","Energy Efficiency","Clean Transportation","Sustainable Water Management","Green Buildings","Climate Change Adaptation"],aiSuggestion:"Renewable Energy (most common for Green Sukuk)",required:!0},{id:"environmental_kpis",label:"Key Environmental Performance Indicators",type:"text",placeholder:"e.g., CO2 emissions reduced, MW renewable capacity added",aiSuggestion:"Quantifiable environmental metrics for annual reporting",required:!0},{id:"second_party_opinion",label:"Second-Party Opinion Provider",type:"select",options:["Sustainalytics","Vigeo Eiris","ISS ESG","CICERO","Other"],aiSuggestion:"Sustainalytics (leading provider for Islamic green bonds)",required:!0},{id:"cbi_certification",label:"Climate Bonds Initiative Certification",type:"select",options:["Yes - seeking certification","No - not pursuing","Already certified"],aiSuggestion:"Consider CBI certification for credibility",required:!1}],examples:["Malaysia Sustainable Energy Development Authority (SEDA) Green Sukuk - $165M","Indonesia Green Sukuk - $1.25B (2018)","Dubai Islamic Bank Green Sukuk - $500M"],useCases:["Solar and wind farm financing","Green building construction","Public transit infrastructure","Water treatment facilities"],icon:"Leaf",websiteUrl:"https://www.icmagroup.org/sustainable-finance/the-principles-guidelines-and-handbooks/green-bond-principles-gbp/",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n={id:"sdg_sukuk",name:"SDG-Linked Sukuk",category:"social",description:"Sukuk proceeds aligned with specific UN Sustainable Development Goals. Broader than green - includes social and governance objectives.",framework:"United Nations Sustainable Development Goals (17 Goals)",reportingRequirements:["Annual SDG Impact Report","SDG alignment statement","Progress metrics for each targeted SDG","Independent verification of SDG contribution"],certificationRequired:!1,certifiers:["UN-affiliated SDG verification bodies","Independent ESG rating agencies","Third-party SDG consultants"],additionalFields:[{id:"targeted_sdgs",label:"Targeted SDGs",type:"text",placeholder:"e.g., SDG 7 (Clean Energy), SDG 11 (Sustainable Cities)",aiSuggestion:"Select 2-4 SDGs that align with use of proceeds",required:!0},{id:"sdg_impact_metrics",label:"SDG Impact Metrics",type:"text",placeholder:"Quantifiable metrics for SDG contribution",aiSuggestion:"Number of people impacted, infrastructure built, etc.",required:!0},{id:"sdg_verification",label:"SDG Alignment Verification",type:"select",options:["Third-party verified","Self-assessed","Not verified"],aiSuggestion:"Third-party verification adds credibility",required:!0}],examples:["Indonesia SDG Sukuk - targeting SDG 4 (Education), SDG 9 (Infrastructure)","Islamic Development Bank SDG Sukuk"],useCases:["Education infrastructure (SDG 4)","Healthcare facilities (SDG 3)","Affordable housing (SDG 11)","Clean water access (SDG 6)"],icon:"Target",websiteUrl:"https://sdgs.un.org/",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},r={id:"esg_framework",name:"ESG Framework",category:"governance",description:"Comprehensive Environmental, Social, and Governance framework. Broader than green/social - includes corporate governance.",framework:"ESG Rating Agencies (MSCI, Sustainalytics, etc.)",reportingRequirements:["Annual ESG Report","ESG rating disclosure (if rated)","Environmental performance metrics","Social impact metrics","Governance structure disclosure","Sustainability accounting (e.g., GRI, SASB)"],certificationRequired:!1,certifiers:["MSCI ESG Ratings","Sustainalytics ESG Risk Rating","S&P Global ESG Scores","Refinitiv ESG Scores"],additionalFields:[{id:"esg_priorities",label:"ESG Priorities",type:"text",placeholder:"E.g., Carbon neutrality, diversity, board independence",aiSuggestion:"Highlight key ESG focus areas",required:!0},{id:"esg_rating_agency",label:"ESG Rating Agency",type:"select",options:["MSCI","Sustainalytics","S&P Global","Refinitiv","Not rated"],aiSuggestion:"Consider obtaining ESG rating for transparency",required:!1},{id:"sustainability_framework",label:"Sustainability Reporting Framework",type:"select",options:["GRI (Global Reporting Initiative)","SASB (Sustainability Accounting Standards Board)","TCFD (Climate-related Financial Disclosures)","None"],aiSuggestion:"GRI (most widely used)",required:!1}],examples:["Sovereign ESG Sukuk (multiple countries)","Corporate ESG Sukuk from Islamic banks"],useCases:["General corporate financing with ESG focus","Diversified infrastructure projects","Sustainable business operations"],icon:"BarChart3",websiteUrl:void 0,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o={id:"qfc_sustainable",name:"QFC Sustainable Sukuk Framework",category:"environmental",description:"Qatar Financial Centre Sustainable Sukuk Framework - first comprehensive sustainability framework in the GCC region. Based on ICMA principles and aligned with Qatar National Vision 2030.",framework:"QFC Sustainable Sukuk and Bonds Framework (based on ICMA GBP/SBP/SBG 2021)",reportingRequirements:["Annual sustainability impact report","Use of proceeds tracking and allocation report","Environmental and/or social impact metrics","Third-party verification of sustainability credentials","Alignment with Qatar National Vision 2030 reporting","QCB Third Financial Sector Strategy compliance"],certificationRequired:!0,certifiers:["QFC Regulatory Authority","ICMA-recognized second-party opinion providers","Independent ESG verification agencies","Qatar Central Bank (for bank issuers)"],additionalFields:[{id:"qfc_pillar_compliance",label:"QFC Framework Pillars Compliance",type:"text",placeholder:"Confirm compliance with all 5 pillars",aiSuggestion:"Must address: 1) Framework establishment, 2) Use of proceeds, 3) Project evaluation, 4) Proceeds management, 5) Reporting",required:!0},{id:"sustainability_category",label:"Sustainability Category",type:"select",options:["Green","Social","Sustainability (Green + Social)"],aiSuggestion:"Sustainability (Green + Social) for bank financing like QIIB Oryx",required:!0},{id:"eligible_project_category",label:"Eligible Project Categories",type:"select",options:["Climate Change Mitigation/Adaptation","Pollution Prevention and Control","Renewable Energy","Sustainable Water and Wastewater Management","Energy Efficiency","Clean Transportation","Sustainable Infrastructure","Social Projects (Healthcare, Education)"],aiSuggestion:"Select primary use of proceeds category",required:!0},{id:"qnv_2030_pillar",label:"Qatar National Vision 2030 Pillar",type:"select",options:["Economic Development","Social Development","Human Development","Environmental Development"],aiSuggestion:"Environmental Development for green/sustainability Sukuk",required:!0},{id:"qcb_strategy_alignment",label:"QCB Third Financial Sector Strategy Alignment",type:"select",options:["Aligned","Partially Aligned","Not Applicable"],aiSuggestion:"Aligned (required for bank issuers like QIIB)",required:!0},{id:"second_party_opinion",label:"Second-Party Opinion Provider",type:"select",options:["Sustainalytics","Vigeo Eiris","ISS ESG","CICERO","Other ICMA-recognized provider"],aiSuggestion:"Required for QFC framework compliance",required:!0}],examples:["QIIB US$500M Sustainability Oryx Sukuk (January 2024) - first Qatari bank sustainability Sukuk","QIIB US$250M Sustainability Tap Sukuk (July 2024)"],useCases:["Bank sustainability financing (QIIB model)","Corporate green/social project financing","Infrastructure development aligned with Qatar National Vision 2030","Renewable energy projects in Qatar","Social infrastructure (healthcare, education)"],icon:"Award",websiteUrl:"https://www.qfc.qa",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s={id:"vbi_malaysia",name:"VBI (Value-Based Intermediation) Malaysia",category:"governance",description:"Bank Negara Malaysia's Value-Based Intermediation framework launched in 2017. Encourages Islamic financial institutions to deliver practices and offerings that generate positive and sustainable impact on economy, community, and environment, aligned with maqasid al-Shariah (higher objectives of Islamic law).",framework:"Bank Negara Malaysia VBI Strategy Paper (2017) & VBI Financing and Investment Impact Assessment Framework",reportingRequirements:["VBI Scorecard reporting (economic, community, environment dimensions)","Triple bottom line impact assessment (People, Planet, Profit)","Annual VBI implementation progress report","Maqasid al-Shariah alignment statement","Sustainable returns and long-term stakeholder interests disclosure"],certificationRequired:!1,certifiers:["VBI Community of Practitioners (CoP) peer review","Bank Negara Malaysia supervisory assessment","Independent ESG rating agencies"],additionalFields:[{id:"vbi_dimension_focus",label:"VBI Dimension Focus",type:"select",options:["Economic Development (entrepreneurship, job creation)","Community Development (education, healthcare, affordable housing)","Environmental Development (green projects, climate resilience)","Holistic (all three dimensions)"],aiSuggestion:"Holistic approach recommended for comprehensive VBI compliance",required:!0},{id:"maqasid_alignment",label:"Maqasid al-Shariah Alignment",type:"text",placeholder:"E.g., Protection of life, intellect, progeny, wealth, environment",aiSuggestion:"Demonstrate how financing aligns with higher objectives of Shariah",required:!0},{id:"vbi_cop_member",label:"VBI Community of Practitioners Membership",type:"select",options:["Yes - active member","No - but following VBI principles","Seeking membership"],aiSuggestion:"VBI CoP membership provides guidance and best practices",required:!1},{id:"vbi_scorecard_metrics",label:"VBI Scorecard Metrics",type:"text",placeholder:"Quantifiable metrics for economic, community, and environmental impact",aiSuggestion:"Jobs created, people served, CO2 reduced, etc.",required:!0}],examples:["Malaysian Islamic banks implementing VBI strategies (Bank Islam, Maybank Islamic, CIMB Islamic)","VBI-aligned SME financing with social impact","Affordable housing financing under VBI framework"],useCases:["Islamic banking business model transformation","SME financing with social impact","Affordable housing and community development","Green and sustainable financing","Financial inclusion initiatives"],icon:"Handshake",websiteUrl:"https://www.bnm.gov.my/-/value-based-intermediation",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},l={id:"islamic_social_finance",name:"Islamic Social Finance Framework",category:"social",description:"Integrated Islamic social finance framework utilizing Zakat (obligatory charity), Waqf (endowment), Sadaqah (voluntary charity), and Qard Hassan (benevolent loans) to address poverty, inequality, and social welfare. Rooted in Islamic principles of wealth distribution and community support.",framework:"Integrated Islamic Social Finance Model (Zakat, Waqf, Sadaqah, Qard Hassan)",reportingRequirements:["Social impact metrics (beneficiaries served, poverty alleviation outcomes)","Fund allocation transparency (Zakat, Waqf, Sadaqah, Qard Hassan)","Shariah compliance verification for all instruments","Community well-being and SDG alignment reporting","Governance framework for social finance ecosystem"],certificationRequired:!1,certifiers:["National Zakat boards and authorities","Waqf regulatory bodies","Shariah advisory boards","Islamic Development Bank verification"],additionalFields:[{id:"isf_instruments",label:"Islamic Social Finance Instruments",type:"select",options:["Zakat (obligatory charity - 2.5% of wealth)","Waqf (charitable endowment)","Sadaqah (voluntary charity)","Qard Hassan (interest-free benevolent loan)","Integrated (multiple instruments)"],aiSuggestion:"Integrated approach leverages strengths of all instruments",required:!0},{id:"target_beneficiaries",label:"Target Beneficiary Groups",type:"text",placeholder:"E.g., Poor and needy (Zakat), students (Waqf), refugees, disaster victims",aiSuggestion:"Identify specific vulnerable communities to support",required:!0},{id:"social_impact_sdgs",label:"Aligned UN SDGs",type:"text",placeholder:"E.g., SDG 1 (No Poverty), SDG 2 (Zero Hunger), SDG 3 (Good Health)",aiSuggestion:"Islamic social finance naturally aligns with SDGs 1, 2, 3, 4, 10",required:!0},{id:"governance_structure",label:"Social Finance Governance Structure",type:"select",options:["National Zakat authority","Waqf foundation/board","Islamic charity organization","Integrated ISF institution"],aiSuggestion:"Strong governance ensures effective fund management and distribution",required:!0}],examples:["Malaysia Zakat for poverty alleviation and education","Singapore Waqf Fund for social infrastructure","Indonesia Waqf-based microfinance for entrepreneurs","Qard Hassan housing schemes in Middle East"],useCases:["Poverty alleviation and basic needs support","Education funding (scholarships, schools)","Healthcare services for underprivileged","Affordable housing (Qard Hassan loans)","Microfinance and entrepreneurship","Disaster relief and refugee support"],icon:"Heart",websiteUrl:void 0,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=[t,n,r,o,s,l,{id:"cbi_certification",name:"Climate Bonds Initiative Certification",category:"environmental",description:"Independent certification confirming debt instruments, assets, or entities meet Paris Agreement goals (1.5\xb0C limit) using science-based Climate Bonds Standard and Sector Criteria. Provides highest level of climate integrity assurance with independent verification.",framework:"Climate Bonds Standard v4.2 (ICMA-aligned) with Science-Based Sector Criteria",reportingRequirements:["Pre-issuance certification report (Approved Verifier)","Post-issuance annual certification reporting","Sector-specific technical criteria compliance","Use of proceeds allocation and impact reporting","Independent verification by CBI Approved Verifier","Climate Bonds Standard Board oversight compliance"],certificationRequired:!0,certifiers:["Climate Bonds Approved Verifiers (network of independent assessors)","Sustainalytics","KPMG","DNV","Other CBI-approved verification agencies"],additionalFields:[{id:"certification_type",label:"CBI Certification Type",type:"select",options:["Use of Proceeds (debt instrument)","Assets (specific projects/assets)","Entity (non-financial legal entity)"],aiSuggestion:"Use of Proceeds most common for Sukuk issuance",required:!0},{id:"sector_criteria",label:"Applicable Sector Criteria",type:"select",options:["Renewable Energy (Solar, Wind, Geothermal)","Low Carbon Buildings","Low Carbon Transport","Water Infrastructure","Land Use and Marine Resources","Waste and Pollution Control","Industry (low-carbon processes)"],aiSuggestion:"Select sector matching use of proceeds",required:!0},{id:"approved_verifier",label:"CBI Approved Verifier",type:"select",options:["Sustainalytics","KPMG","DNV","EY","Other Approved Verifier"],aiSuggestion:"Choose from CBI Approved Verifier network",required:!0},{id:"paris_alignment",label:"Paris Agreement Alignment Pathway",type:"select",options:["1.5\xb0C pathway (net-zero by 2050)","Well below 2\xb0C pathway"],aiSuggestion:"1.5\xb0C pathway recommended for highest climate integrity",required:!0},{id:"green_sukuk_integration",label:"Green Sukuk Integration",type:"select",options:["Yes - combining CBI certification with ICMA Green Bond Principles","No - standalone CBI certification"],aiSuggestion:"Integration provides dual recognition (ICMA + CBI)",required:!1}],examples:["Certified Green Sukuk from sovereigns and corporates","Renewable energy project bonds with CBI certification","Green building bonds certified under CBI Buildings Criteria","Transport infrastructure bonds (low-carbon transit)"],useCases:["Green Sukuk with independent climate integrity assurance","Renewable energy project financing","Low-carbon buildings and infrastructure","Clean transportation systems","Water and waste management infrastructure"],icon:"ShieldCheck",websiteUrl:"https://www.climatebonds.net",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"none",name:"No Impact Metrics",category:"none",description:"Conventional Sukuk without specific impact/ESG focus. Proceeds used for general corporate purposes or non-impact projects.",framework:void 0,reportingRequirements:["Standard financial reporting only","Use of proceeds disclosure (general)"],certificationRequired:!1,certifiers:void 0,additionalFields:[],examples:["General corporate Sukuk","Working capital Sukuk","Refinancing Sukuk"],useCases:["General corporate financing","Debt refinancing","Working capital","Non-impact-specific projects"],icon:"CircleDashed",websiteUrl:void 0,version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]},9798:function(e,i,a){a.d(i,{Wx:function(){return r},eX:function(){return o}});let t={id:"uae_dfsa",name:"UAE DFSA (Dubai)",regulator:"Dubai Financial Services Authority",country:"AE",region:"GCC",description:"Dubai International Financial Centre (DIFC) - leading Islamic finance jurisdiction with flexible regulatory framework.",requiredLanguages:["English","Arabic"],currencies:["USD","AED"],taxRate:null,listingRequirements:["DFSA listing approval","Minimum $50M issue size","Credit rating from recognized agency","Prospectus filing"],mandatoryAccounting:void 0,forbiddenAccounting:void 0,additionalFields:[{id:"listing_exchange",label:"Listing Exchange",type:"select",options:["NASDAQ Dubai","Dubai Financial Market (DFM)","Abu Dhabi Securities Exchange (ADX)"],aiSuggestion:"NASDAQ Dubai (most common for Sukuk)",required:!1},{id:"shariah_supervisory_board",label:"DIFC Shariah Supervisory Board Approval",type:"select",options:["Required","Not Required"],aiSuggestion:"Required for Sukuk issuances",required:!0}],compatibleAccounting:["aaoifi","ifrs_islamic","local_gaap"],icon:"MapPin",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n={id:"saudi_cma",name:"Saudi Arabia CMA",regulator:"Capital Market Authority (CMA)",country:"SA",region:"GCC",description:"Largest Sukuk market globally. Strict AAOIFI adherence required.",requiredLanguages:["Arabic","English"],currencies:["SAR","USD"],taxRate:20,listingRequirements:["CMA registration and approval","Minimum SAR 100M issue size (~$27M USD)","Shariah certification from approved scholars","Arabic prospectus mandatory","Local custodian bank required"],mandatoryAccounting:["aaoifi"],forbiddenAccounting:["local_gaap"],additionalFields:[{id:"listing_exchange",label:"Listing Exchange",type:"select",options:["Tadawul (Saudi Stock Exchange)","Sukuk & Bonds Platform"],aiSuggestion:"Tadawul (primary exchange for Saudi Sukuk)",required:!0},{id:"shariah_committee",label:"CMA-Approved Shariah Committee",type:"text",placeholder:"Committee name",aiSuggestion:"Must be from CMA-approved list of scholars",required:!0},{id:"zakat_treatment",label:"Zakat Treatment",type:"select",options:["Issuer pays Zakat","Investors pay Zakat individually"],aiSuggestion:"Investors typically pay Zakat individually",required:!0}],compatibleAccounting:["aaoifi","ifrs_islamic"],icon:"MapPin",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},r={id:"qatar_qfc",name:"Qatar (QFC/QCB)",regulator:"Qatar Financial Centre Regulatory Authority (QFCRA) / Qatar Central Bank (QCB)",country:"QA",region:"GCC",description:"First GCC jurisdiction with dedicated Sustainable Sukuk Framework. Home to QIIB Oryx Sustainability Sukuk. Aligned with Qatar National Vision 2030.",requiredLanguages:["Arabic","English"],currencies:["QAR","USD"],taxRate:0,listingRequirements:["QFC Regulatory Authority approval (for QFC entities)","Qatar Central Bank approval (for banks)","Qatar Stock Exchange (QSE) listing or London Stock Exchange","QFC Sustainable Sukuk Framework compliance (if sustainability-linked)","Shariah certification from recognized scholars"],mandatoryAccounting:["aaoifi"],forbiddenAccounting:["local_gaap"],additionalFields:[{id:"listing_exchange",label:"Listing Exchange",type:"select",options:["Qatar Stock Exchange (QSE)","London Stock Exchange","Both"],aiSuggestion:"London Stock Exchange (for international Sukuk like QIIB Oryx)",required:!0},{id:"qfc_sustainable_framework",label:"QFC Sustainable Sukuk Framework",type:"select",options:["Applicable - Sustainability Sukuk","Not Applicable - Conventional Sukuk"],aiSuggestion:"Applicable for green/social/sustainability Sukuk",required:!0},{id:"qnv_2030_alignment",label:"Qatar National Vision 2030 Alignment",type:"select",options:["Economic Development","Social Development","Human Development","Environmental Development","Not Aligned"],aiSuggestion:"Economic Development (for bank financing) or Environmental (for green Sukuk)",required:!1},{id:"qcb_third_strategy",label:"QCB Third Financial Sector Strategy",type:"select",options:["Aligned","Not Aligned"],aiSuggestion:"Aligned (for sustainability Sukuk)",required:!1}],compatibleAccounting:["aaoifi","ifrs_islamic"],icon:"MapPin",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o=[t,n,r,{id:"malaysia_sc",name:"Malaysia SC",regulator:"Securities Commission Malaysia",country:"MY",region:"Southeast Asia",description:"Most developed and sophisticated Islamic capital market globally. Largest Sukuk issuer by volume.",requiredLanguages:["English","Malay"],currencies:["MYR","USD"],taxRate:24,listingRequirements:["SC Malaysia approval","Bursa Malaysia listing (for public Sukuk)","Credit rating from RAM or MARC (local agencies)","Shariah Advisory Council (SAC) approval"],mandatoryAccounting:void 0,forbiddenAccounting:void 0,additionalFields:[{id:"sukuk_framework",label:"Malaysian Sukuk Framework Compliance",type:"select",options:["SC Sukuk Guidelines","Bank Negara Malaysia Guidelines"],aiSuggestion:"SC Sukuk Guidelines (for capital market issuances)",required:!0},{id:"sac_approval",label:"SC Shariah Advisory Council (SAC) Approval",type:"select",options:["Obtained","In Progress","Not Yet Applied"],aiSuggestion:"Required for all Islamic securities in Malaysia",required:!0},{id:"rating_agency",label:"Rating Agency",type:"select",options:["RAM Rating Services","MARC (Malaysian Rating Corporation)","Both"],aiSuggestion:"RAM Rating Services (most established)",required:!1}],compatibleAccounting:["aaoifi","ifrs_islamic","local_gaap"],icon:"MapPin",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"luxembourg",name:"Luxembourg",regulator:"Commission de Surveillance du Secteur Financier (CSSF)",country:"LU",region:"Europe",description:"Leading European center for Islamic finance. Gateway to EU investors.",requiredLanguages:["English","French"],currencies:["EUR","USD"],taxRate:24.94,listingRequirements:["CSSF prospectus approval","Luxembourg Stock Exchange listing","Shariah certification from recognized scholars","EU Prospectus Regulation compliance"],mandatoryAccounting:void 0,forbiddenAccounting:void 0,additionalFields:[{id:"listing_platform",label:"Listing Platform",type:"select",options:["Luxembourg Stock Exchange (LuxSE)","Euro MTF"],aiSuggestion:"LuxSE (main regulated market)",required:!0},{id:"prospectus_language",label:"Prospectus Language",type:"select",options:["English","French","Both"],aiSuggestion:"English (most common for international Sukuk)",required:!0},{id:"eu_passporting",label:"EU Passporting",type:"select",options:["Yes - utilize EU passport","No - Luxembourg only"],aiSuggestion:"Yes (access to all EU markets)",required:!1}],compatibleAccounting:["aaoifi","ifrs_islamic","local_gaap"],icon:"MapPin",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]},8330:function(e,i,a){a.d(i,{Y2:function(){return c},fM:function(){return u}});let t={id:"ijara",name:"Ijara",category:"lease",subCategory:"operating-lease",description:"Islamic lease contract where lessor retains ownership of asset while lessee pays rental. Can be used for Sukuk, equipment leasing, real estate, or infrastructure financing.",useCases:["Ijara Sukuk (lease-based Islamic bonds)","Real estate leasing and development","Infrastructure projects (airports, seaports, toll roads)","Equipment financing (aircraft, ships, machinery)","Green energy facilities (solar farms, wind turbines)"],marketShare:60,requiredRoles:["Shariah Advisory Board","SPO Provider","Trustee","Asset Manager","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI FAS 33 - Investment Sukuk"],iifmStandards:["IIFM Sukuk Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Qatar International Islamic Bank",aiSuggestion:"Qatar International Islamic Bank",required:!0},{id:"asset_type",label:"Underlying Asset Type",type:"select",options:["Real Estate","Infrastructure","Equipment","Aircraft","Green Energy Facilities"],aiSuggestion:"For Ijara: Real Estate or Infrastructure most common",required:!0},{id:"asset_value",label:"Asset Value (USD)",type:"number",placeholder:"500,000,000",aiSuggestion:"Should match Sukuk issue amount (typical: $100M-$500M)",required:!0},{id:"issue_amount",label:"Sukuk Issue Amount (USD)",type:"number",placeholder:"500,000,000",aiSuggestion:"$500M (QIIB Orix Green Sukuk reference)",required:!0},{id:"rental_rate",label:"Expected Rental Return Rate (%)",type:"number",placeholder:"5.25",aiSuggestion:"5.25% (market competitive rate)",required:!0},{id:"tenure",label:"Tenure (years)",type:"select",options:["3","5","7","10"],aiSuggestion:"5 years (most common)",required:!0}],icon:"Building2",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n={id:"murabaha",name:"Murabaha",category:"sale",subCategory:"cost-plus-sale",description:"Islamic cost-plus sale contract where seller discloses cost and adds agreed profit margin. Can be used for Sukuk, trade finance, or commodity procurement.",useCases:["Murabaha Sukuk (cost-plus sale Islamic bonds)","Trade finance and working capital","Commodity procurement","Short-term liquidity management"],marketShare:15,requiredRoles:["Shariah Advisory Board","Commodity Agent","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 8 (Murabaha)"],iifmStandards:["IIFM Murabaha Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Dubai Islamic Bank",aiSuggestion:"Dubai Islamic Bank",required:!0},{id:"commodity_type",label:"Underlying Commodity",type:"select",options:["Metals","Energy (Oil/Gas)","Agricultural Products","Other"],aiSuggestion:"Metals most common for Murabaha Sukuk",required:!0},{id:"purchase_cost",label:"Commodity Purchase Cost (USD)",type:"number",placeholder:"100,000,000",aiSuggestion:"Bank's purchase cost",required:!0},{id:"sale_price",label:"Sale Price to Customer (USD)",type:"number",placeholder:"110,000,000",aiSuggestion:"Purchase cost + profit margin (typically 8-15%)",required:!0},{id:"profit_rate",label:"Profit Margin (%)",type:"number",placeholder:"10",aiSuggestion:"10% (typical range: 8-15%)",required:!0},{id:"tenure",label:"Tenure (months)",type:"select",options:["6","12","18","24"],aiSuggestion:"12 months (Murabaha Sukuk typically shorter tenure)",required:!0}],icon:"TrendingUp",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},r={id:"musharaka",name:"Musharaka",category:"partnership",subCategory:"equity-partnership",description:"Islamic partnership contract where all partners contribute capital and share profits/losses. Can be used for Sukuk, joint ventures, or project financing.",useCases:["Musharaka Sukuk (partnership-based Islamic bonds)","Joint venture project financing","Public-private partnerships (PPP)","Mixed-use development projects"],marketShare:10,requiredRoles:["Shariah Advisory Board","Managing Partner","Independent Auditor","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 12 (Musharaka)"],iifmStandards:["IIFM Musharaka Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Saudi British Bank",aiSuggestion:"Saudi British Bank",required:!0},{id:"project_name",label:"Partnership Project Name",type:"text",placeholder:"e.g., Riyadh Metro Phase 2",aiSuggestion:"Infrastructure or real estate project",required:!0},{id:"total_capital",label:"Total Partnership Capital (USD)",type:"number",placeholder:"300,000,000",aiSuggestion:"$300M (typical Musharaka Sukuk size)",required:!0},{id:"issuer_contribution",label:"Issuer Capital Contribution (%)",type:"number",placeholder:"30",aiSuggestion:"20-40% (issuer maintains management control)",required:!0},{id:"profit_sharing_ratio",label:"Profit Sharing Ratio (Investors %)",type:"number",placeholder:"70",aiSuggestion:"60-80% (proportional to capital contribution)",required:!0},{id:"tenure",label:"Partnership Duration (years)",type:"select",options:["5","7","10","15"],aiSuggestion:"7-10 years (project completion timeframe)",required:!0}],icon:"Users",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o={id:"mudaraba",name:"Mudaraba",category:"partnership",subCategory:"profit-sharing",description:"Islamic profit-sharing contract where capital provider (Rabb-ul-Mal) provides funds and entrepreneur (Mudarib) provides expertise. Can be used for Sukuk, investment funds, or asset management.",useCases:["Mudaraba Sukuk (profit-sharing Islamic bonds)","Islamic investment funds","Asset management ventures","Trade finance portfolios"],marketShare:8,requiredRoles:["Shariah Advisory Board","Mudarib (Manager)","Independent Auditor","Rabb-ul-Mal (Investors)"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 13 (Mudaraba)"],iifmStandards:["IIFM Mudaraba Standards"],baseFields:[{id:"mudarib_name",label:"Mudarib (Manager) Name",type:"text",placeholder:"e.g., Abu Dhabi Islamic Bank",aiSuggestion:"Bank or asset manager with proven track record",required:!0},{id:"capital_amount",label:"Capital Provided by Investors (USD)",type:"number",placeholder:"150,000,000",aiSuggestion:"$150M (typical Mudaraba fund size)",required:!0},{id:"investment_strategy",label:"Investment Strategy",type:"select",options:["Real Estate","Equities","Fixed Income Alternatives","Mixed Portfolio"],aiSuggestion:"Mixed Portfolio (diversified Shariah-compliant investments)",required:!0},{id:"profit_sharing_mudarib",label:"Mudarib Profit Share (%)",type:"number",placeholder:"20",aiSuggestion:"15-25% (mudarib keeps portion as performance fee)",required:!0},{id:"profit_sharing_investors",label:"Investors Profit Share (%)",type:"number",placeholder:"80",aiSuggestion:"75-85% (capital providers receive majority)",required:!0},{id:"tenure",label:"Fund Duration (years)",type:"select",options:["3","5","7"],aiSuggestion:"5 years (standard Islamic fund tenure)",required:!0}],icon:"PieChart",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s={id:"istisna",name:"Istisna'a",category:"sale",subCategory:"manufacturing-sale",description:"Islamic manufacturing/construction sale contract where buyer orders customized asset to be constructed or manufactured. Can be used for Sukuk, infrastructure projects, or manufacturing.",useCases:["Istisna'a Sukuk (construction-based Islamic bonds)","Infrastructure construction","Shipbuilding and aircraft manufacturing","Industrial plant development"],marketShare:5,requiredRoles:["Shariah Advisory Board","General Contractor","Project Engineer","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 11 (Istisna)"],iifmStandards:["IIFM Istisna Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Kuwait Finance House",aiSuggestion:"Kuwait Finance House",required:!0},{id:"project_type",label:"Construction Project Type",type:"select",options:["Infrastructure","Industrial Facility","Shipbuilding","Aircraft","Real Estate"],aiSuggestion:"Infrastructure (airports, bridges, highways)",required:!0},{id:"contract_value",label:"Construction Contract Value (USD)",type:"number",placeholder:"200,000,000",aiSuggestion:"$200M (typical large-scale construction project)",required:!0},{id:"construction_period",label:"Construction Period (months)",type:"number",placeholder:"36",aiSuggestion:"24-48 months (typical infrastructure projects)",required:!0},{id:"delivery_date",label:"Expected Delivery Date",type:"date",aiSuggestion:"Set delivery milestone for Istisna contract",required:!0},{id:"profit_margin",label:"Profit Margin on Construction (%)",type:"number",placeholder:"12",aiSuggestion:"10-15% (construction profit)",required:!0}],icon:"Construction",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},l={id:"salam",name:"Salam",category:"sale",subCategory:"forward-sale",description:"Islamic forward sale contract where buyer pays in advance for commodities to be delivered at future date. Can be used for Sukuk, agricultural financing, or commodity trading.",useCases:["Salam Sukuk (forward sale Islamic bonds)","Agricultural crop financing","Commodity forward contracts","Supply chain pre-financing"],marketShare:2,requiredRoles:["Shariah Advisory Board","Commodity Supplier","Quality Inspector","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 10 (Salam)"],iifmStandards:["IIFM Salam Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Bahrain Islamic Bank",aiSuggestion:"Bahrain Islamic Bank",required:!0},{id:"commodity_type",label:"Forward Commodity Type",type:"select",options:["Agricultural (Wheat, Rice, Dates)","Metals","Energy","Other"],aiSuggestion:"Agricultural commodities (most common for Salam)",required:!0},{id:"advance_payment",label:"Advance Payment (USD)",type:"number",placeholder:"50,000,000",aiSuggestion:"$50M (Salam Sukuk typically smaller than other types)",required:!0},{id:"commodity_quantity",label:"Commodity Quantity",type:"text",placeholder:"e.g., 10,000 metric tons",aiSuggestion:"Specify quantity and unit (e.g., metric tons, barrels)",required:!0},{id:"delivery_date",label:"Delivery Date",type:"date",aiSuggestion:"Future delivery date (typically 3-12 months)",required:!0},{id:"expected_return",label:"Expected Return Rate (%)",type:"number",placeholder:"8",aiSuggestion:"6-10% (commodity price appreciation)",required:!0}],icon:"Wheat",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c={id:"wakala",name:"Wakala",category:"agency",subCategory:"investment-agency",description:"Islamic agency contract where principal appoints agent (Wakil) to invest funds on their behalf in Shariah-compliant investments. Can be used for Sukuk, investment management, or corporate financing.",useCases:["Wakala Sukuk (agency-based Islamic bonds)","Bank corporate financing (e.g., QIIB Oryx Sustainability Sukuk)","General investment portfolios","Working capital and liquidity management","Sustainability and green financing"],marketShare:18,requiredRoles:["Shariah Advisory Board","Wakil (Investment Agent)","SPV Trustee","Issuer"],aaoifiStandards:["AAOIFI Shariah Standard 62 (Sukuk)","AAOIFI Shariah Standard 23 (Wakalah)"],iifmStandards:["IIFM Sukuk Standards","IIFM Wakalah Standards"],baseFields:[{id:"issuer_name",label:"Issuer Name",type:"text",placeholder:"e.g., Qatar International Islamic Bank",aiSuggestion:"Qatar International Islamic Bank",required:!0},{id:"spv_name",label:"SPV/Trust Name",type:"text",placeholder:"e.g., QIIB Senior Oryx Ltd",aiSuggestion:'Typically: [Issuer Name] + "Trust" or "Ltd"',required:!0},{id:"spv_jurisdiction",label:"SPV Jurisdiction",type:"select",options:["Cayman Islands","Jersey","British Virgin Islands","Delaware (USA)","Other"],aiSuggestion:"Cayman Islands (most common for international Sukuk)",required:!0},{id:"issue_amount",label:"Sukuk Issue Amount (USD)",type:"number",placeholder:"500,000,000",aiSuggestion:"$500M (QIIB Oryx reference)",required:!0},{id:"wakil_fee",label:"Wakil Management Fee (%)",type:"number",placeholder:"0.25",aiSuggestion:"0.15-0.35% annual management fee",required:!0},{id:"expected_return",label:"Expected Return Rate (%)",type:"number",placeholder:"5.25",aiSuggestion:"5.25% (QIIB Oryx yield)",required:!0},{id:"investment_strategy",label:"Investment Strategy",type:"select",options:["General Corporate Financing","Sustainability Projects","Real Estate Portfolio","Mixed Assets"],aiSuggestion:"Sustainability Projects (for sustainability Sukuk)",required:!0},{id:"tenure",label:"Tenure (years)",type:"select",options:["3","5","7","10"],aiSuggestion:"5 years (standard for bank Sukuk)",required:!0}],icon:"Handshake",version:"1.0.0",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},u=[t,n,r,o,s,l,c]},9700:function(e,i,a){a.d(i,{I:function(){return d}});var t=a(9625),n=a(6885),r=a(6965),o=a(8330),s=a(9798),l=a(6936),c=a(4452);let u={graphitiConnection:!1,documentUpload:!1,templateSelection:!1,executionRunning:!1,citationVerification:!1,documentGeneration:!1,learningExtraction:!1},d=(0,t.Ue)()((0,n.mW)((e,i)=>({execution:null,errors:[],loading:u,servicesStatus:null,developerMode:!1,disableAllMocks:!1,showApiLogs:!1,initializeServices:async()=>{try{await r.F.init();let a=r.F.getAllServicesStatus();e({servicesStatus:a}),r.F.on("status-change",a=>{let{servicesStatus:t}=i();if(t){let i={...t,[a.service]:{...t[a.service],status:a.newStatus,lastChecked:new Date}};e({servicesStatus:i})}})}catch(e){console.error("[Store] Failed to initialize services:",e)}},updateServiceStatus:(a,t)=>{let{servicesStatus:n}=i();n&&e({servicesStatus:{...n,[a]:{...n[a],status:t,lastChecked:new Date}}})},refreshServices:async()=>{try{let i=await r.F.checkHealth();e({servicesStatus:i})}catch(e){console.error("[Store] Failed to refresh services:",e)}},initializeExecution:(i,a)=>{e({execution:{id:"exec_".concat(Date.now()),workflowTemplateId:a||"",userId:i,status:"not_started",currentStepIndex:0,graphitiConnected:!1,aaaoifiDocuments:[],selectedShariahStructure:null,isSecuritized:!1,selectedJurisdiction:null,selectedAccounting:null,selectedImpacts:[],selectedTakaful:{enabled:!1},dealConfiguration:null,contextDocuments:[],contextText:"",contextEpisodeIds:[],userNotes:{},workflowIterations:0,participants:[],executionLog:[],completedSteps:[],interruptCount:0,interruptMessages:[],citations:[],approvedCitations:[],rejectedCitations:[],finalDocument:"",generatedFiles:[],extractedLearnings:[],appliedLearnings:[],userFeedback:"",startedAt:new Date().toISOString(),completedAt:null,durationSeconds:0,tokensUsed:0}})},updateExecution:a=>{let{execution:t}=i();t&&e({execution:{...t,...a}})},nextStep:()=>{let{execution:a}=i();if(!a)return;let t=Math.min(a.currentStepIndex+1,10);e({execution:{...a,currentStepIndex:t}})},previousStep:()=>{let{execution:a}=i();if(!a)return;let t=Math.max(a.currentStepIndex-1,0);e({execution:{...a,currentStepIndex:t}})},setGraphitiConnected:a=>{let{execution:t}=i();t&&e({execution:{...t,graphitiConnected:a}})},addDocument:(a,t)=>{let{execution:n}=i();n&&("aaoifi"===a?e({execution:{...n,aaaoifiDocuments:[...n.aaaoifiDocuments,t]}}):e({execution:{...n,contextDocuments:[...n.contextDocuments,t]}}))},removeDocument:(a,t)=>{let{execution:n}=i();n&&("aaoifi"===a?e({execution:{...n,aaaoifiDocuments:n.aaaoifiDocuments.filter(e=>e.id!==t)}}):e({execution:{...n,contextDocuments:n.contextDocuments.filter(e=>e.id!==t)}}))},setSelectedMethodologies:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedMethodologies:a}})},addMethodology:a=>{var t;let{execution:n}=i();n&&((null===(t=n.selectedMethodologies)||void 0===t?void 0:t.find(e=>e.id===a.id))||e({execution:{...n,selectedMethodologies:[...n.selectedMethodologies||[],a]}}))},removeMethodology:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedMethodologies:(t.selectedMethodologies||[]).filter(e=>e.id!==a)}})},setShariahStructure:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedShariahStructure:a}})},setIsSecuritized:a=>{let{execution:t}=i();t&&e({execution:{...t,isSecuritized:a}})},setJurisdiction:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedJurisdiction:a}})},setAccounting:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedAccounting:a}})},toggleImpact:a=>{let{execution:t}=i();if(!t)return;let n=t.selectedImpacts.some(e=>e.id===a.id);e({execution:{...t,selectedImpacts:n?t.selectedImpacts.filter(e=>e.id!==a.id):[...t.selectedImpacts,a]}})},addImpact:a=>{let{execution:t}=i();t&&(t.selectedImpacts.some(e=>e.id===a.id)||e({execution:{...t,selectedImpacts:[...t.selectedImpacts,a]}}))},removeImpact:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedImpacts:t.selectedImpacts.filter(e=>e.id!==a)}})},clearImpacts:()=>{let{execution:a}=i();a&&e({execution:{...a,selectedImpacts:[]}})},setTakaful:a=>{let{execution:t}=i();t&&e({execution:{...t,selectedTakaful:a}})},buildDealConfiguration:()=>{let{execution:a}=i();if(!a)return null;let{selectedShariahStructure:t,selectedJurisdiction:n,selectedAccounting:r,selectedImpacts:o,selectedTakaful:s}=a;if(!t||!n||!r||0===o.length)return null;let l=function(e,i,a,t,n){let r=[];r.push(...function(e){let i=[];return e?(e.name||i.push({severity:"error",message:"Shariah Structure name is missing",rule:"REQUIRED_FIELD"}),e.baseFields&&0!==e.baseFields.length||i.push({severity:"warning",message:"Shariah Structure has no base fields defined",rule:"MISSING_FIELDS"}),e.aaoifiStandards&&0!==e.aaoifiStandards.length||i.push({severity:"warning",message:"Shariah Structure has no AAOIFI standards defined",rule:"MISSING_STANDARDS"})):i.push({severity:"error",message:"Shariah Structure is required",rule:"REQUIRED_COMPONENT"}),i}(e)),r.push(...function(e){let i=[];return e?(e.name||i.push({severity:"error",message:"Jurisdiction name is missing",rule:"REQUIRED_FIELD"}),e.regulator||i.push({severity:"warning",message:"Jurisdiction regulator is missing",rule:"MISSING_FIELD"})):i.push({severity:"error",message:"Jurisdiction is required",rule:"REQUIRED_COMPONENT"}),i}(i)),r.push(...function(e){let i=[];return e?(e.name||i.push({severity:"error",message:"Accounting Framework name is missing",rule:"REQUIRED_FIELD"}),e.applicableStandards&&0!==e.applicableStandards.length||i.push({severity:"warning",message:"Accounting Framework has no applicable standards defined",rule:"MISSING_STANDARDS"})):i.push({severity:"error",message:"Accounting Framework is required",rule:"REQUIRED_COMPONENT"}),i}(a)),r.push(...function(e){let i=[];return e?(e.name||i.push({severity:"error",message:"Impact Metrics name is missing",rule:"REQUIRED_FIELD"}),e.certificationRequired&&(!e.certifiers||0===e.certifiers.length)&&i.push({severity:"warning",message:"".concat(e.name," requires certification but no certifiers are defined"),rule:"MISSING_CERTIFIERS"})):i.push({severity:"error",message:"Impact Metrics are required",rule:"REQUIRED_COMPONENT"}),i}(t)),r.push(...function(e,i){let a=[];return e&&i&&(i.compatibleJurisdictions.includes(e.id)||a.push({severity:"error",message:"".concat(i.name," is not compatible with ").concat(e.name),componentPair:"jurisdiction-accounting",rule:"INCOMPATIBLE_COMBINATION"}),e.mandatoryAccounting&&e.mandatoryAccounting.length>0&&!e.mandatoryAccounting.includes(i.id)&&a.push({severity:"error",message:"".concat(e.name," requires ").concat(e.mandatoryAccounting.map(e=>e.toUpperCase()).join(" or ")," accounting framework. ").concat(i.name," is not allowed."),componentPair:"jurisdiction-accounting",rule:"MANDATORY_FRAMEWORK_VIOLATION"})),a}(i,a)),r.push(...function(e,i){let a=[];return e&&i&&("salam"===e.id&&"luxembourg"===i.id&&a.push({severity:"warning",message:"".concat(e.name," is rarely used in ").concat(i.name," due to regulatory complexity"),componentPair:"shariah-jurisdiction",rule:"UNCOMMON_COMBINATION"}),"hybrid"===e.id&&"GCC"===i.region&&a.push({severity:"warning",message:"".concat(e.name," may require additional regulatory approval in ").concat(i.region," jurisdictions"),componentPair:"shariah-jurisdiction",rule:"ADDITIONAL_APPROVAL_REQUIRED"})),a}(e,i)),r.push(...function(e,i){let a=[];return e&&i&&("green_sukuk"!==e.id||["ijara","istisna"].includes(i.id)||a.push({severity:"warning",message:"".concat(e.name," is typically issued using asset-backed structures like Ijara or Istisna. ").concat(i.name," is less common for green issuances."),componentPair:"impact-shariah",rule:"UNCOMMON_GREEN_STRUCTURE"}),"sdg_linked"===e.id&&"murabaha"===i.id&&a.push({severity:"warning",message:"".concat(e.name," is often associated with project-based structures. ").concat(i.name," (commodity trade) may not align well with social impact goals."),componentPair:"impact-shariah",rule:"MISALIGNED_IMPACT_STRUCTURE"})),a}(t,e)),r.push(...function(e,i){let a=[];return e&&i&&e.certificationRequired&&"GCC"===i.region&&a.push({severity:"warning",message:"".concat(e.name," certification standards may differ in ").concat(i.region,". Ensure certifiers are recognized in ").concat(i.name,"."),componentPair:"impact-jurisdiction",rule:"CERTIFICATION_RECOGNITION"}),a}(t,i)),r.push(...function(e,i,a){let t=[];return e&&e.enabled&&(i&&!["ijara","murabaha","musharaka"].includes(i.id)&&t.push({severity:"warning",message:"Takaful overlay is less common with ".concat(null==i?void 0:i.name,". Typically used with Ijara, Murabaha, or Musharaka."),rule:"UNCOMMON_TAKAFUL_STRUCTURE"}),a&&"Europe"===a.region&&t.push({severity:"warning",message:"Takaful products may require additional regulatory approval in ".concat(a.name),rule:"TAKAFUL_REGULATORY_COMPLEXITY"})),t}(n,e,i)),r.push(...function(e,i,a,t){let n=[],r=[];return e||r.push("Shariah Structure"),i||r.push("Jurisdiction"),a||r.push("Accounting Framework"),t||r.push("Impact Metrics"),r.length>0&&n.push({severity:"error",message:"Configuration incomplete: Missing ".concat(r.join(", ")),rule:"INCOMPLETE_CONFIGURATION"}),n}(e,i,a,t)),r.push(...function(e,i,a,t){let n=[];return e&&i&&a&&t&&("aaoifi"===a.id&&i.region,"ifrs_islamic"===a.id&&"GCC"===i.region&&n.push({severity:"warning",message:"Using ".concat(a.name," in ").concat(i.region," region may require additional AAOIFI disclosures for local compliance"),rule:"DUAL_STANDARD_DISCLOSURE"}),"local_gaap"===a.id&&"malaysia"!==i.id&&n.push({severity:"warning",message:"".concat(a.name," is typically used in Malaysia. International investors may prefer AAOIFI or IFRS."),rule:"LOCAL_STANDARD_INTERNATIONAL_DEAL"})),n}(e,i,a,t));let o=r.filter(e=>"error"===e.severity).map(e=>e.message),s=r.filter(e=>"warning"===e.severity).map(e=>e.message);return{isValid:0===o.length,errors:o,warnings:s,allResults:r}}(t,n,r,o[0],s),c={shariahStructure:t,jurisdiction:n,accounting:r,impacts:o,takaful:s,configurationName:"".concat(t.name," - ").concat(n.name," - ").concat(r.name),isValid:l.isValid,validationErrors:l.errors,validationWarnings:l.warnings,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e({execution:{...a,dealConfiguration:c}}),c},loadDemoConfiguration:()=>{let{execution:a}=i();a&&(e({execution:{...a,selectedShariahStructure:o.Y2,isSecuritized:!0,selectedJurisdiction:s.Wx,selectedAccounting:l.gN,selectedImpacts:[c.Ge,c.fc],selectedTakaful:{enabled:!1}}}),e({execution:{...i().execution,currentStepIndex:1}}))},setContextText:a=>{let{execution:t}=i();t&&e({execution:{...t,contextText:a}})},addUserNote:(a,t)=>{let{execution:n}=i();n&&e({execution:{...n,userNotes:{...n.userNotes,[a]:t}}})},addLogEntry:a=>{let{execution:t}=i();t&&e({execution:{...t,executionLog:[...t.executionLog,a]}})},addInterruptMessage:a=>{let{execution:t}=i();t&&e({execution:{...t,interruptMessages:[...t.interruptMessages,a],interruptCount:t.interruptCount+1,status:"interrupted"}})},addCitation:a=>{let{execution:t}=i();t&&e({execution:{...t,citations:[...t.citations,a]}})},updateCitationApproval:(a,t,n)=>{let{execution:r}=i();if(!r)return;let o=r.citations.map(e=>e.id===a?{...e,approved:t,rejected:!t,rejectionReason:n}:e),s=t?[...r.approvedCitations,a]:r.approvedCitations.filter(e=>e!==a),l=t?r.rejectedCitations.filter(e=>e!==a):[...r.rejectedCitations,a];e({execution:{...r,citations:o,approvedCitations:s,rejectedCitations:l}})},setFinalDocument:a=>{let{execution:t}=i();t&&e({execution:{...t,finalDocument:a}})},addGeneratedFile:a=>{let{execution:t}=i();t&&e({execution:{...t,generatedFiles:[...t.generatedFiles,a]}})},addLearning:a=>{let{execution:t}=i();t&&e({execution:{...t,extractedLearnings:[...t.extractedLearnings,a]}})},applyLearning:a=>{let{execution:t}=i();if(!t)return;let n=t.extractedLearnings.map(e=>e.id===a?{...e,approved:!0,appliedToTemplate:!0}:e);e({execution:{...t,extractedLearnings:n,appliedLearnings:[...t.appliedLearnings,a]}})},setUserFeedback:a=>{let{execution:t}=i();t&&e({execution:{...t,userFeedback:a}})},completeExecution:()=>{let{execution:a}=i();if(!a)return;let t=new Date().toISOString(),n=new Date(a.startedAt).getTime(),r=new Date(t).getTime();e({execution:{...a,status:"completed",completedAt:t,durationSeconds:Math.floor((r-n)/1e3)}})},failExecution:a=>{let{execution:t,addError:n}=i();t&&(e({execution:{...t,status:"failed",completedAt:new Date().toISOString()}}),n({id:"error_".concat(Date.now()),timestamp:new Date().toISOString(),severity:"error",title:"Workflow Execution Failed",message:a,dismissible:!0}))},addError:i=>{e(e=>({errors:[...e.errors,i]}))},removeError:i=>{e(e=>({errors:e.errors.filter(e=>e.id!==i)}))},clearErrors:()=>{e({errors:[]})},setLoading:(i,a)=>{e(e=>({loading:{...e.loading,[i]:a}}))},setDeveloperMode:i=>{e({developerMode:i})},setDisableAllMocks:i=>{e({disableAllMocks:i})},setShowApiLogs:i=>{e({showApiLogs:i})},reset:()=>{e({execution:null,errors:[],loading:u})}}),{name:"workflow-store"}))}}]);